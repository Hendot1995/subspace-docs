"use strict";(self.webpackChunksubspace_docs=self.webpackChunksubspace_docs||[]).push([[6012],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return c}});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(a),c=o,h=m["".concat(l,".").concat(c)]||m[c]||d[c]||r;return a?n.createElement(h,i(i({ref:t},u),{},{components:a})):n.createElement(h,i({ref:t},u))}));function c(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5162:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(7294),o=a(6010),r="tabItem_Ymn6";function i(e){var t=e.children,a=e.hidden,i=e.className;return n.createElement("div",{role:"tabpanel",className:(0,o.Z)(r,i),hidden:a},t)}},5488:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(7462),o=a(7294),r=a(6010),i=a(2389),s=a(7392),l=a(7094),p=a(2466),u="tabList__CuJ",d="tabItem_LNqP";function m(e){var t,a,i=e.lazy,m=e.block,c=e.defaultValue,h=e.values,k=e.groupId,b=e.className,f=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=h?h:f.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),N=(0,s.l)(g,(function(e,t){return e.value===t.value}));if(N.length>0)throw new Error('Docusaurus error: Duplicate values "'+N.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var w=null===c?c:null!=(t=null!=c?c:null==(a=f.find((function(e){return e.props.default})))?void 0:a.props.value)?t:f[0].props.value;if(null!==w&&!g.some((function(e){return e.value===w})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+w+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var v=(0,l.U)(),y=v.tabGroupChoices,_=v.setTabGroupChoices,x=(0,o.useState)(w),T=x[0],I=x[1],C=[],O=(0,p.o5)().blockElementScrollPositionUntilNextRender;if(null!=k){var E=y[k];null!=E&&E!==T&&g.some((function(e){return e.value===E}))&&I(E)}var S=function(e){var t=e.currentTarget,a=C.indexOf(t),n=g[a].value;n!==T&&(O(t),I(n),null!=k&&_(k,String(n)))},F=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n,o=C.indexOf(e.currentTarget)+1;a=null!=(n=C[o])?n:C[0];break;case"ArrowLeft":var r,i=C.indexOf(e.currentTarget)-1;a=null!=(r=C[i])?r:C[C.length-1]}null==(t=a)||t.focus()};return o.createElement("div",{className:(0,r.Z)("tabs-container",u)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":m},b)},g.map((function(e){var t=e.value,a=e.label,i=e.attributes;return o.createElement("li",(0,n.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:function(e){return C.push(e)},onKeyDown:F,onFocus:S,onClick:S},i,{className:(0,r.Z)("tabs__item",d,null==i?void 0:i.className,{"tabs__item--active":T===t})}),null!=a?a:t)}))),i?(0,o.cloneElement)(f.filter((function(e){return e.props.value===T}))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},f.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function c(e){var t=(0,i.Z)();return o.createElement(m,(0,n.Z)({key:String(t)},e))}},6755:function(e,t,a){a.r(t),a.d(t,{assets:function(){return h},contentTitle:function(){return m},default:function(){return f},frontMatter:function(){return d},metadata:function(){return c},toc:function(){return k}});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),i=a(5488),s=a(5162),l=a(9960),p=a(1207),u=["components"],d={title:"Farming with the CLI",sidebar_position:1,description:"How to run a Subspace Network Farmer with the CLI or Docker",displayed_sidebar:"masterSidebar",keywords:["Farmer","Farming","CLI","Binaries","Docker"]},m=void 0,c={unversionedId:"farm/farming",id:"farm/farming",title:"Farming with the CLI",description:"How to run a Subspace Network Farmer with the CLI or Docker",source:"@site/protocol/farm/farming.mdx",sourceDirName:"farm",slug:"/farm/farming",permalink:"/protocol/next/farm/farming",draft:!1,editUrl:"https://github.com/subspace/subspace-docs/blob/main/protocol/farm/farming.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Farming with the CLI",sidebar_position:1,description:"How to run a Subspace Network Farmer with the CLI or Docker",displayed_sidebar:"masterSidebar",keywords:["Farmer","Farming","CLI","Binaries","Docker"]},sidebar:"masterSidebar"},h={},k=[{value:"I. Pre-requisites",id:"i-pre-requisites",level:2},{value:"A. System Requirements",id:"a-system-requirements",level:3},{value:"B. Polkadot.js wallet",id:"b-polkadotjs-wallet",level:3},{value:"C. Archival or Full Node?",id:"c-archival-or-full-node",level:3},{value:"D. Required ports",id:"d-required-ports",level:3},{value:"II. Installation",id:"ii-installation",level:2},{value:"III. Post Node &amp; Farmer Install Care",id:"iii-post-node--farmer-install-care",level:2},{value:"Using a Custom Path",id:"using-a-custom-path",level:3},{value:"Set Node Custom Path.",id:"set-node-custom-path",level:4},{value:"Set Farmer Custom Path.",id:"set-farmer-custom-path",level:4},{value:"Switching to a new snapshot",id:"switching-to-a-new-snapshot",level:3},{value:"Wipe &amp; Purge",id:"wipe--purge",level:4},{value:"Docker Wipe &amp; Purge",id:"docker-wipe--purge",level:4},{value:"Help",id:"help",level:3},{value:"IV. Advanced",id:"iv-advanced",level:2},{value:"Storing Data on the Subspace Network",id:"storing-data-on-the-subspace-network",level:3},{value:"Running an archival node",id:"running-an-archival-node",level:3},{value:"Build from source (Linux)",id:"build-from-source-linux",level:3}],b={toc:k};function f(e){var t=e.components,a=(0,o.Z)(e,u);return(0,r.kt)("wrapper",(0,n.Z)({},b,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("h3",{parentName:"div",id:"update-from-earlier-versions-of-gemini-1b"},"Update from earlier versions of Gemini 1b"),(0,r.kt)("p",{parentName:"div"},"There were some issues in initial Gemini 1b release ",(0,r.kt)("inlineCode",{parentName:"p"},"gemini-1b-2022-june-02")," fixed by later releases."),(0,r.kt)("p",{parentName:"div"},"If you see any of these errors:"),(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Node is running on non-canonical fork, full node and farmer reset is required")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Attempt to switch to a different fork beyond archiving depth, can't do it..."))),(0,r.kt)("p",{parentName:"div"},'That means your node is affected, and you need to follow "Switching to a new snapshot" section below to reset your node and farmer.'))),(0,r.kt)("h2",{id:"i-pre-requisites"},"I. Pre-requisites"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"a-system-requirements"},"A. System Requirements"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Network Warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You will also want to ensure you have a stable Network connection. It is also important to note that plotting can be network intensive and may impact network usage if you have a hard data limit."))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Hardware"),(0,r.kt)("th",{parentName:"tr",align:null},"Specs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CPU"),(0,r.kt)("td",{parentName:"tr",align:null},"2 Core+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RAM"),(0,r.kt)("td",{parentName:"tr",align:null},"4GB+ (Rec. 8GB)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Storage - Node"),(0,r.kt)("td",{parentName:"tr",align:null},"60GB")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Storage - Plot"),(0,r.kt)("td",{parentName:"tr",align:null},"4KB+")))),(0,r.kt)("h3",{id:"b-polkadotjs-wallet"},"B. Polkadot.js wallet"),(0,r.kt)("p",null,"Before running anything you need to have a wallet where you'll receive testnet coins."),(0,r.kt)("p",null,"Install ",(0,r.kt)("a",{parentName:"p",href:"https://polkadot.js.org/extension/"},"Polkadot.js extension")," into your browser and create a new account there.\nThe address of your account will be necessary at the last step."),(0,r.kt)("p",null,"For help refer to our forum post ",(0,r.kt)("a",{parentName:"p",href:"https://forum.subspace.network/t/subspace-wallet/61"},"How to setup a Polkadot.JS Wallet")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"make sure to follow the Bonus section of the bottom of the post above."))),(0,r.kt)("h3",{id:"c-archival-or-full-node"},"C. Archival or Full Node?"),(0,r.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Please see ",(0,r.kt)("a",{parentName:"h5",href:"https://github.com/subspace/subspace/issues/555"},"GitHub Issue #555"))),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"There is a bug in Substrate preventing the ",(0,r.kt)("inlineCode",{parentName:"p"},"--keep-blocks")," parameter from working, as a result all nodes are currently Archival nodes."))),(0,r.kt)("p",null,"Before starting your node you will want to decide if you are going to run an Archival or Full node."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Full Node:")," This will only keep the last 1024 blocks. As a result the node will take up significantly less space, leaving more space for farming plot.\n",(0,r.kt)("strong",{parentName:"p"},"Archival Node:")," This will keep the full history of the network on your device. As a result the node will take up more space and continue to grow."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Running an archival node will significantly help new users trying to sync the network."),(0,r.kt)("li",{parentName:"ul"},"Archival nodes are also helpful if you want to run your node as an RPC node for historical queries etc.")),(0,r.kt)("p",null,"The default instructions below will assume you would like to be a full node. If you would like to run an Archival node remove the following parameters from your node command."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--pruning 1024")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--keep-blocks 1024"))),(0,r.kt)("p",null,"And instead add this:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--pruning archive"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"NOTE: You can't switch between full and archival node without wiping it, so if you need that, follow steps in the ",(0,r.kt)("a",{parentName:"p",href:"#wipe--purge"},"Wipe & Purge")," section.")),(0,r.kt)("h3",{id:"d-required-ports"},"D. Required ports"),(0,r.kt)("p",null,"Currently, TCP port ",(0,r.kt)("inlineCode",{parentName:"p"},"30333")," needs to be exposed for node to work properly."),(0,r.kt)("p",null,"If you have a server with no firewall, there is nothing to be done, but otherwise make sure to open TCP port ",(0,r.kt)("inlineCode",{parentName:"p"},"30333")," for incoming connections."),(0,r.kt)("p",null,"On the desktop side if you have a router in front of your computer, you'll need to forward TCP port ",(0,r.kt)("inlineCode",{parentName:"p"},"30333")," to the machine on which your node is running (how this is done varied from router to router, but there is always a feature like this, refer to ",(0,r.kt)("a",{parentName:"p",href:"/protocol/next/port-forwarding"},"How to Forward Ports")," for a more in-depth tutorial).\nIf you're connected directly without any router, then again nothing needs to be done in such case."),(0,r.kt)("h2",{id:"ii-installation"},"II. Installation"),(0,r.kt)("hr",null),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Looking for all Releases?")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You can always find these executables in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/subspace/subspace/releases"},"Releases")," section on our GitHub"))),(0,r.kt)("p",null,"We will be downloading two files for your respective operating system."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Subspace-Node")," - This is the executable that actually makes the connection with the Subspace Network"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Subspace-Farmer")," - This is the executable that will actually farm for rewards on your allocated storage plot.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Those using Docker will not have to download anything, just configure the ",(0,r.kt)("inlineCode",{parentName:"em"},"docker-compose.yml")))),(0,r.kt)(i.Z,{groupId:"OS",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"docker",label:"\ud83d\udc0b Docker",default:!0,mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"subspace")," directory and ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," in it with following contents:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'version: "3.7"\nservices:\n  node:\n    # For running on Aarch64 add `-aarch64` at the end of the following line\n    image: ghcr.io/subspace/node:gemini-1b-2022-jun-13\n    volumes:\n# Instead of specifying volume (which will store data in `/var/lib/docker`), you can\n# alternatively specify path to the directory where files will be stored, just make\n# sure everyone is allowed to write there\n      - node-data:/var/subspace:rw\n#      - /path/to/subspace-node:/var/subspace:rw\n    ports:\n# If port 30333 is already occupied by another Substrate-based node, replace all\n# occurrences of `30333` in this file with another value\n      - "0.0.0.0:30333:30333"\n    restart: unless-stopped\n    command: [\n      "--chain", "gemini-1",\n      "--base-path", "/var/subspace",\n      "--execution", "wasm",\n      "--pruning", "1024",\n      "--keep-blocks", "1024",\n      "--port", "30333",\n      "--rpc-cors", "all",\n      "--rpc-methods", "safe",\n      "--unsafe-ws-external",\n      "--validator",\n      "--out-peers 100",\n# Replace `INSERT_YOUR_ID` with your node ID (will be shown in telemetry)\n      "--name", "INSERT_YOUR_ID"\n    ]\n    healthcheck:\n      timeout: 5s\n# If node setup takes longer then expected, you want to increase `interval` and `retries` number.\n      interval: 30s\n      retries: 5\n\n  farmer:\n    depends_on:\n      node:\n        condition: service_healthy\n    # For running on Aarch64 add `-aarch64` at the end of the following line\n    image: ghcr.io/subspace/farmer:gemini-1b-2022-jun-13\n# Un-comment following 2 lines to unlock farmer\'s RPC\n#    ports:\n#      - "127.0.0.1:9955:9955"\n# Instead of specifying volume (which will store data in `/var/lib/docker`), you can\n# alternatively specify path to the directory where files will be stored, just make\n# sure everyone is allowed to write there\n    volumes:\n      - farmer-data:/var/subspace:rw\n#      - /path/to/subspace-farmer:/var/subspace:rw\n    restart: unless-stopped\n    command: [\n      "--base-path", "/var/subspace",\n      "farm",\n      "--node-rpc-url", "ws://node:9944",\n      "--ws-server-listen-addr", "0.0.0.0:9955",\n# Replace `WALLET_ADDRESS` with your Polkadot.js wallet address\n      "--reward-address", "WALLET_ADDRESS",\n# Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for instance 100G or 2T (but leave at least 10G of disk space for node)\n      "--plot-size", "PLOT_SIZE"\n    ]\nvolumes:\n  node-data:\n  farmer-data:\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Now edit created file:"),(0,r.kt)("p",{parentName:"li"},"a. Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT_YOUR_ID")," with desired name that will be shown in telemetry (doesn't impact anything else)"),(0,r.kt)("p",{parentName:"li"},"b. Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"WALLET_ADDRESS")," with your wallet address"),(0,r.kt)("p",{parentName:"li"},"c. Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"PLOT_SIZE")," with plot size in gigabytes or terabytes, for instance 100G or 2T (but leave at least 10G of disk space for node)"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"If you want to store files on a separate disk or customize port, read comments in the file."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Now go to directory with ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," and type ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose up -d")," to start everything"),(0,r.kt)("p",{parentName:"li"},"You can read logs with ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose logs --tail=1000 -f"),", for the rest read ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/reference/"},"Docker Compose CLI reference"),".")))),(0,r.kt)(s.Z,{value:"windows",label:"\ud83d\uddbc\ufe0f Windows",default:!0,mdxType:"TabItem"},(0,r.kt)("div",{className:p.Z.buttons},(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-node-windows-x86_64-gemini-1b-2022-jun-13.exe",mdxType:"Link"},"1. Download Node Executable"),(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-farmer-windows-x86_64-gemini-1b-2022-jun-13.exe",mdxType:"Link"},"2. Download Farmer Executable")),(0,r.kt)("hr",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open ",(0,r.kt)("inlineCode",{parentName:"p"},"Powershell")," (we do not recommend using Command Prompt as it's syntax is slightly different)")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"In the terminal we will change to the Downloads directory using this command ",(0,r.kt)("inlineCode",{parentName:"p"},"cd Downloads"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"We will then start the node using the following command"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"You may get a popup asking for firewall permission, make sure to click ",(0,r.kt)("inlineCode",{parentName:"p"},"Allow"))),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-PowerShell"},"# Replace `INSERT_YOUR_ID` with a nickname you choose\n# Copy all of the lines below, they are all part of the same command\n.\\subspace-node-windows-x86_64-gemini-1b-2022-jun-13.exe `\n--chain gemini-1 `\n--execution wasm `\n--pruning 1024 `\n--keep-blocks 1024 `\n--validator `\n--out-peers 100 `\n--name INSERT_YOUR_ID\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"2022-02-03 10:52:23 Subspace\n2022-02-03 10:52:23 \u270c\ufe0f  version 0.1.0-35cf6f5-x86_64-windows\n2022-02-03 10:52:23 \u2764\ufe0f  by Subspace Labs <https://subspace.network>, 2021-2022\n2022-02-03 10:52:23 \ud83d\udccb Chain specification: Subspace Gemini 1\n2022-02-03 10:52:23 \ud83c\udff7  Node name: YOUR_FANCY_NAME\n2022-02-03 10:52:23 \ud83d\udc64 Role: AUTHORITY\n2022-02-03 10:52:23 \ud83d\udcbe Database: RocksDb at C:\\Users\\X\\AppData\\Local\\subspace-node-windows-x86_64-snapshot-2022-jan-05.exe\\data\\chains\\subspace_test\\db\\full\n2022-02-03 10:52:23 \u26d3  Native runtime: subspace-100 (subspace-1.tx1.au1)\n2022-02-03 10:52:23 \ud83d\udd28 Initializing Genesis block/state (state: 0x22a5\u202617ea, header-hash: 0x6ada\u20260d38)\n2022-02-03 10:52:24 \u23f1  Loaded block-time = 1s from block 0x6ada0792ea62bf3501abc87d92e1ce0e78ddefba66f02973de54144d12ed0d38\n2022-02-03 10:52:24 Starting archiving from genesis\n2022-02-03 10:52:24 Archiving already produced blocks 0..=0\n2022-02-03 10:52:24 \ud83c\udff7  Local node identity is: 12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:24 \ud83e\uddd1\u200d\ud83c\udf3e Starting Subspace Authorship worker\n2022-02-03 10:52:24 \ud83d\udce6 Highest known block at #0\n2022-02-03 10:52:24 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2022-02-03 10:52:24 Listening for new connections on 0.0.0.0:9944.\n2022-02-03 10:52:26 \ud83d\udd0d Discovered new external address for our node: /ip4/176.233.17.199/tcp/30333/p2p/12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:29 \u2699\ufe0f  Syncing, target=#215883 (2 peers), best: #55 (0xafc7\u2026bccf), finalized #0 (0x6ada\u20260d38), \u2b07 850.1kiB/s \u2b06 1.5kiB/s\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"After running this command, Windows may ask you for permissions related to firewall, select ",(0,r.kt)("inlineCode",{parentName:"p"},"allow")," in this case.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"We will then open another terminal, change to the downloads directory, then start the farmer node with the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-PowerShell"},"# Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet\n# Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for instance 100G or 2T (but leave at least 10G of disk space for node)\n.\\subspace-farmer-windows-x86_64-gemini-1b-2022-jun-13.exe farm --reward-address WALLET_ADDRESS --plot-size PLOT_SIZE\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944\n2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target { sockaddrs: [], host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/" }\n2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping\n2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot\n2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments\n2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications\n2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments\n2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You are now Farming! Just wait for your node to fully sync, and for your farmer to fully plot.")))),(0,r.kt)(s.Z,{value:"macos",label:"\ud83c\udf4emacOS",default:!0,mdxType:"TabItem"},(0,r.kt)("div",{className:p.Z.buttons},(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-node-macos-x86_64-gemini-1b-2022-jun-13.zip",mdxType:"Link"},"1. Download Node Executable"),(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-farmer-macos-x86_64-gemini-1b-2022-jun-13.zip",mdxType:"Link"},"2. Download Farmer Executable")),(0,r.kt)("hr",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open your favorite terminal, and change to the Downloads directory using ",(0,r.kt)("inlineCode",{parentName:"li"},"cd Downloads")),(0,r.kt)("li",{parentName:"ol"},"Make the farmer & node executable:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-farmer-macos-x86_64-gemini-1b-2022-jun-13")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-node-macos-x86_64-gemini-1b-2022-jun-13"))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"We will then start the node using the following command"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("em",{parentName:"p"},"Note, when attempting to run this command you may be prompted:")," Click on ",(0,r.kt)("inlineCode",{parentName:"p"},"cancel")," instead of moving it to trash.\nTo allow execution, go to ",(0,r.kt)("inlineCode",{parentName:"p"},"System Preferences -> Security & Privacy -> General"),", and click on ",(0,r.kt)("inlineCode",{parentName:"p"},"allow"),".\nAfter this, simply repeat the step you prompted for (step 4 or 6). This time, click the ",(0,r.kt)("inlineCode",{parentName:"p"},"Open")," button when prompted.")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `INSERT_YOUR_ID` with a nickname you choose\n# Copy all of the lines below, they are all part of the same command\n./subspace-node-macos-x86_64-gemini-1b-2022-jun-13 \\\n  --chain gemini-1 \\\n  --execution wasm \\\n  --pruning 1024 \\\n  --keep-blocks 1024 \\\n  --validator \\\n  --out-peers 100 \\\n  --name INSERT_YOUR_ID\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"2022-02-03 10:52:23 Subspace\n2022-02-03 10:52:23 \u270c\ufe0f  version 0.1.0-35cf6f5-x86_64-macos\n2022-02-03 10:52:23 \u2764\ufe0f  by Subspace Labs <https://subspace.network>, 2021-2022\n2022-02-03 10:52:23 \ud83d\udccb Chain specification: Subspace Gemini 1\n2022-02-03 10:52:23 \ud83c\udff7  Node name: YOUR_FANCY_NAME\n2022-02-03 10:52:23 \ud83d\udc64 Role: AUTHORITY\n2022-02-03 10:52:23 \ud83d\udcbe Database: RocksDb at /Users/X/Library/Application Support/subspace-node-x86_64-macos-11-snapshot-2022-jan-05/chains/subspace_test/db/full\n2022-02-03 10:52:23 \u26d3  Native runtime: subspace-100 (subspace-1.tx1.au1)\n2022-02-03 10:52:23 \ud83d\udd28 Initializing Genesis block/state (state: 0x22a5\u202617ea, header-hash: 0x6ada\u20260d38)\n2022-02-03 10:52:24 \u23f1  Loaded block-time = 1s from block 0x6ada0792ea62bf3501abc87d92e1ce0e78ddefba66f02973de54144d12ed0d38\n2022-02-03 10:52:24 Starting archiving from genesis\n2022-02-03 10:52:24 Archiving already produced blocks 0..=0\n2022-02-03 10:52:24 \ud83c\udff7  Local node identity is: 12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:24 \ud83e\uddd1\u200d\ud83c\udf3e Starting Subspace Authorship worker\n2022-02-03 10:52:24 \ud83d\udce6 Highest known block at #0\n2022-02-03 10:52:24 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2022-02-03 10:52:24 Listening for new connections on 0.0.0.0:9944.\n2022-02-03 10:52:26 \ud83d\udd0d Discovered new external address for our node: /ip4/176.233.17.199/tcp/30333/p2p/12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:29 \u2699\ufe0f  Syncing, target=#215883 (2 peers), best: #55 (0xafc7\u2026bccf), finalized #0 (0x6ada\u20260d38), \u2b07 850.1kiB/s \u2b06 1.5kiB/s\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"We will then open another terminal, change to the downloads directory, then start the farmer node with the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet\n# Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for instance 100G or 2T (but leave at least 10G of disk space for node)\n./subspace-farmer-macos-x86_64-gemini-1b-2022-jun-13 farm --reward-address WALLET_ADDRESS --plot-size PLOT_SIZE\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"It may prompt again in here. Refer to the note on step 4.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944\n2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target { sockaddrs: [], host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/" }\n2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping\n2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot\n2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments\n2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications\n2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments\n2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You are now Farming! Just wait for your node to fully sync, and for your farmer to fully plot.")))),(0,r.kt)(s.Z,{value:"linux",label:"\ud83d\udc27Ubuntu",mdxType:"TabItem"},(0,r.kt)("div",{className:p.Z.buttons},(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-node-ubuntu-x86_64-gemini-1b-2022-jun-13",mdxType:"Link"},"1. Download Node Executable"),(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-farmer-ubuntu-x86_64-gemini-1b-2022-jun-13",mdxType:"Link"},"2. Download Farmer Executable")),(0,r.kt)("p",null),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand for Aarch64/64-bit Raspberry Pi Executables"),(0,r.kt)("div",{className:p.Z.buttons},(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-node-ubuntu-aarch64-gemini-1b-2022-jun-13",mdxType:"Link"},"1. Download Node Executable"),(0,r.kt)(l.Z,{className:"button button--secondary button--lg",to:"https://github.com/subspace/subspace/releases/download/gemini-1b-2022-jun-13/subspace-farmer-ubuntu-aarch64-gemini-1b-2022-jun-13",mdxType:"Link"},"2. Download Farmer Executable"))),(0,r.kt)("hr",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open your favorite terminal, and change to the Downloads directory using ",(0,r.kt)("inlineCode",{parentName:"li"},"cd Downloads")),(0,r.kt)("li",{parentName:"ol"},"Make the farmer & node executable")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-farmer-ubuntu-x86_64-gemini-1b-2022-jun-13")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-node-ubuntu-x86_64-gemini-1b-2022-jun-13"))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"We will then start the node using the following command"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `INSERT_YOUR_ID` with a nickname you choose\n# Copy all of the lines below, they are all part of the same command\n./subspace-node-ubuntu-x86_64-gemini-1b-2022-jun-13 \\\n--chain gemini-1 \\\n--execution wasm \\\n--pruning 1024 \\\n--keep-blocks 1024 \\\n--validator \\\n--out-peers 100 \\\n--name INSERT_YOUR_ID\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"2022-02-03 10:52:23 Subspace\n2022-02-03 10:52:23 \u270c\ufe0f  version 0.1.0-35cf6f5-x86_64-ubuntu\n2022-02-03 10:52:23 \u2764\ufe0f  by Subspace Labs <https://subspace.network>, 2021-2022\n2022-02-03 10:52:23 \ud83d\udccb Chain specification: Subspace Gemini 1\n2022-02-03 10:52:23 \ud83c\udff7  Node name: YOUR_FANCY_NAME\n2022-02-03 10:52:23 \ud83d\udc64 Role: AUTHORITY\n2022-02-03 10:52:23 \ud83d\udcbe Database: RocksDb at /home/X/.local/share/subspace-node-x86_64-ubuntu-20.04-snapshot-2022-jan-05/chains/subspace_test/db/full\n2022-02-03 10:52:23 \u26d3  Native runtime: subspace-100 (subspace-1.tx1.au1)\n2022-02-03 10:52:23 \ud83d\udd28 Initializing Genesis block/state (state: 0x22a5\u202617ea, header-hash: 0x6ada\u20260d38)\n2022-02-03 10:52:24 \u23f1  Loaded block-time = 1s from block 0x6ada0792ea62bf3501abc87d92e1ce0e78ddefba66f02973de54144d12ed0d38\n2022-02-03 10:52:24 Starting archiving from genesis\n2022-02-03 10:52:24 Archiving already produced blocks 0..=0\n2022-02-03 10:52:24 \ud83c\udff7  Local node identity is: 12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:24 \ud83e\uddd1\u200d\ud83c\udf3e Starting Subspace Authorship worker\n2022-02-03 10:52:24 \ud83d\udce6 Highest known block at #0\n2022-02-03 10:52:24 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2022-02-03 10:52:24 Listening for new connections on 0.0.0.0:9944.\n2022-02-03 10:52:26 \ud83d\udd0d Discovered new external address for our node: /ip4/176.233.17.199/tcp/30333/p2p/12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:29 \u2699\ufe0f  Syncing, target=#215883 (2 peers), best: #55 (0xafc7\u2026bccf), finalized #0 (0x6ada\u20260d38), \u2b07 850.1kiB/s \u2b06 1.5kiB/s\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"We will then open another terminal, change to the downloads directory, then start the farmer node with the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet\n# Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for instance 100G or 2T (but leave at least 10G of disk space for node)\n./subspace-farmer-ubuntu-x86_64-gemini-1b-2022-jun-13 farm --reward-address WALLET_ADDRESS --plot-size PLOT_SIZE\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944\n2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target sockaddrs: , host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/"\n2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping\n2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot\n2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments\n2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications\n2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments\n2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You are now Farming! Just wait for your node to fully sync, and for your farmer to fully plot."))))),(0,r.kt)("h2",{id:"iii-post-node--farmer-install-care"},"III. Post Node & Farmer Install Care"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Now that your Node & Farmer have been started you will wait for the node to sync and the farmer to complete the initial plotting. While this is occuring you can check out some of the helpful resources below."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"- ",(0,r.kt)("a",{parentName:"strong",href:"https://telemetry.subspace.network/#/0x9ee86eefc3cc61c71a7751bba7f25e442da2512f408e6286153b3ccc055dccf0"},"Telemetry Server"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"- ",(0,r.kt)("a",{parentName:"strong",href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Feu.gemini-1b.subspace.network%2Fws#/explorer"},"Block Explorer"))),(0,r.kt)("h3",{id:"using-a-custom-path"},"Using a Custom Path"),(0,r.kt)("p",null,"You can set a custom path for your node & farmer to use if you want to use an external hard drive, or set a custom path from the default. You can set the node and farmer to different directories if you would like."),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"node",label:"1.\ud83d\udea9 Node",mdxType:"TabItem"},(0,r.kt)("h4",{id:"set-node-custom-path"},"Set Node Custom Path."),(0,r.kt)("p",null,"To set your node to use a custom path all you will need to do is add the ",(0,r.kt)("inlineCode",{parentName:"p"},"--base-path")," parameter after the ",(0,r.kt)("inlineCode",{parentName:"p"},"--chain")," parameter."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},".\\subspace-node-ubuntu-x86_64-gemini-1b-2022-jun-13 --chain gemini-1 --base-path /path/to/directory/here --execution wasm --pruning 1024 --keep-blocks 1024 --validator --name INSERT_YOUR_ID\n"))),(0,r.kt)(s.Z,{value:"farmer",label:"2.\ud83e\uddd1\u200d\ud83c\udf3e Farmer",mdxType:"TabItem"},(0,r.kt)("h4",{id:"set-farmer-custom-path"},"Set Farmer Custom Path."),(0,r.kt)("p",null,"To set your node to use a custom path all you will need to do is add the ",(0,r.kt)("inlineCode",{parentName:"p"},"--base-path")," parameter after the ",(0,r.kt)("inlineCode",{parentName:"p"},"--chain")," parameter."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},".\\subspace-farmer-ubuntu-x86_64-gemini-1b-2022-jun-13 --base-path /path/to/directory/here farm --reward-address WALLET_ADDRESS --plot-size PLOT_SIZE\n")))),(0,r.kt)("h3",{id:"switching-to-a-new-snapshot"},"Switching to a new snapshot"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Unless specifically mentioned by the Development team you should ",(0,r.kt)("strong",{parentName:"p"},"NOT")," have to wipe & purge your configuration on new releases."))),(0,r.kt)("p",null,"In general you should be able to download the latest release, and re-start the Node & Farmer with the same commands as you started to prior version with no errors."),(0,r.kt)("p",null,"There are some cases where version updates will cause issue with your Node & Farmer and you may have to wipe & purge your node, typically when errors occur. If you have any issues you can always check our ",(0,r.kt)("a",{parentName:"p",href:"https://forums.subspace.network"},"Forums")," and hop in our ",(0,r.kt)("a",{parentName:"p",href:"https://discord.gg/subspace-network"},"Discord")," Server to ask for help."),(0,r.kt)("h4",{id:"wipe--purge"},"Wipe & Purge"),(0,r.kt)("p",null,"If you were running a node previously, and want to switch to a new snapshot, please perform these steps and then follow the guideline again:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# Replace `FARMER_FILE_NAME` with the name of the node file you downloaded from releases\n./FARMER_FILE_NAME wipe\n# Replace `NODE_FILE_NAME` with the name of the node file you downloaded from releases\n./NODE_FILE_NAME purge-chain --chain gemini-1\n")),(0,r.kt)("p",null,"Does not matter if the node/farmer executable is the previous one or from the new snapshot, both will work :)\nThe reason we require this is, with every snapshot change, the network might get partitioned, and you may be on a different genesis than the current one.\nIn plain English, these commands are like a ",(0,r.kt)("inlineCode",{parentName:"p"},"reset")," button for snapshot changes."),(0,r.kt)("p",null,"Now follow installation guide."),(0,r.kt)("h4",{id:"docker-wipe--purge"},"Docker Wipe & Purge"),(0,r.kt)("p",null,"In case of Docker setup run ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose down -v")," (and manually delete custom directories if you have specified them)."),(0,r.kt)("p",null,"Now follow installation guide."),(0,r.kt)("h3",{id:"help"},"Help"),(0,r.kt)("p",null,"There are extra commands and parameters you can use on farmer or node, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," after any other command to display additional options."),(0,r.kt)("p",null,"Below are some helpful samples:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"./FARMER_FILE_NAME --base-path /path/to/data farm ...")," : will store data in ",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/data")," instead of default location"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"./FARMER_FILE_NAME --base-path /path/to/data wipe")," : erases everything related to farmer if data were stored in ",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/data")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"./NODE_FILE_NAME --base-path /path/to/data --chain gemini-1 ...")," : start node and store data in ",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/data")," instead of default location"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"./NODE_FILE_NAME purge-chain --base-path /path/to/data --chain gemini-1")," : erases data related to the node if data were stored in ",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/data"))),(0,r.kt)("p",null,"Examples:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `FARMER_FILE_NAME` with the name of the node file you downloaded from releases\n./FARMER_FILE_NAME farm --help\n./FARMER_FILE_NAME wipe\n")),(0,r.kt)("h2",{id:"iv-advanced"},"IV. Advanced"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"storing-data-on-the-subspace-network"},"Storing Data on the Subspace Network"),(0,r.kt)("p",null,"We are still early in our development but would love to see people start to build on subspace. refer to you npm package ",(0,r.kt)("a",{parentName:"p",href:"../../../subspacejs/"},"subspace.js")),(0,r.kt)("h3",{id:"running-an-archival-node"},"Running an archival node"),(0,r.kt)("p",null,"Instructions above will get you full node (doesn't store the history and state of the whole blockchain, only last 1024\nblocks). If you want to opt in to storing the whole history (archival node), remove following parameters (lines) from\nabove instructions before starting your node:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--pruning 1024")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--keep-blocks 1024"))),(0,r.kt)("p",null,"And instead add this:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--pruning archive"))),(0,r.kt)("p",null,"Archival node is useful if you run an RPC node and want to support querying older blockchain history."),(0,r.kt)("p",null,"NOTE: You can't switch between full and archival node without wiping it, so if you need that, follow steps in\n",(0,r.kt)("a",{parentName:"p",href:"#switching-to-a-new-snapshot"},"Switching to a new snapshot")," section above."),(0,r.kt)("h3",{id:"build-from-source-linux"},"Build from source (Linux)"),(0,r.kt)("p",null,"If you're running unsupported Linux distribution or CPU architecture, you may try to build binaries yourself from source."),(0,r.kt)("p",null,"NOTE: This is primarily targeted at tech-savvy users and not recommended unless you know what you're doing.\nPlease try to find answer to your question online before reaching out to maintainers."),(0,r.kt)("p",null,"You'll have to have ",(0,r.kt)("a",{parentName:"p",href:"https://rustup.rs/"},"Rust toolchain")," installed as well as LLVM and Clang in addition to usual developer tooling (Ubuntu example):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install llvm clang\n")),(0,r.kt)("p",null,"Now clone the source and build snapshot ",(0,r.kt)("inlineCode",{parentName:"p"},"snapshot-2022-apr-29")," (replace occurrences with the snapshot you want to build):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/subspace/subspace.git\ncd subspace\ngit checkout snapshot-2022-apr-29\ncargo build \\\n    --profile production \\\n    --bin subspace-node \\\n    --bin subspace-farmer\n")),(0,r.kt)("p",null,"You'll find two binaries under ",(0,r.kt)("inlineCode",{parentName:"p"},"target/production")," directory once it succeeds, after which refer to instructions above on how to use them."))}f.isMDXComponent=!0},1207:function(e,t){t.Z={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN"}}}]);