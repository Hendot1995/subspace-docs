"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[2590],{5162:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7294),r=a(6010);const o={tabItem:"tabItem_Ymn6"};function s(e){let{children:t,hidden:a,className:s}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,s),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(7462),r=a(7294),o=a(6010),s=a(2466),l=a(6550),i=a(1980),c=a(7392),u=a(12);function m(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function d(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??m(a);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const n=(0,l.k6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._X)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})}),[o,n])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,o=d(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:o}))),[i,c]=h({queryString:a,groupId:n}),[m,g]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,o]=(0,u.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:n}),b=(()=>{const e=i??m;return p({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{b&&l(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),c(e),g(e)}),[c,g,o]),tabValues:o}}var b=a(2389);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:t,block:a,selectedValue:l,selectValue:i,tabValues:c}=e;const u=[],{blockElementScrollPositionUntilNextRender:m}=(0,s.o5)(),d=e=>{const t=e.currentTarget,a=u.indexOf(t),n=c[a].value;n!==l&&(m(t),i(n))},p=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":a},t)},c.map((e=>{let{value:t,label:a,attributes:s}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>u.push(e),onKeyDown:p,onClick:d},s,{className:(0,o.Z)("tabs__item",k.tabItem,s?.className,{"tabs__item--active":l===t})}),a??t)})))}function N(e){let{lazy:t,children:a,selectedValue:n}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function y(e){const t=g(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",k.tabList)},r.createElement(f,(0,n.Z)({},e,t)),r.createElement(N,(0,n.Z)({},e,t)))}function w(e){const t=(0,b.Z)();return r.createElement(y,(0,n.Z)({key:String(t)},e))}},9628:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(7294),r=a(614);const o="compose-generator-form__container_KQ66",s="compose-generator-form__card_CMxH",l="compose-generator-form__input_nR1w",i="compose-generator-form__label_cXGP",c="compose-generator-form__button--primary_Wb3a",u="compose-generator-form__grid_pdyr",m="compose-generator-form__group_Jx8k",d="compose-generator-form__label--glow_xUeT",p="compose-generator-form__text--error_b8Ag";const h=function(){const[e,t]=(0,n.useState)({nodePort:"30333",nodeDsnPort:"30433",farmerPort:"30533",nodeName:"subspace",snapshot:"",nodeData:"",farmerData:"",rewardAddress:"st6GBwATPqtBkK5y4uXbV52euszPpFPw7wmkF8FywEqJaf8uP",plotSize:"100G",arch:"x86_64"}),a="gemini-3g",[h,g]=(0,n.useState)(""),[b,k]=(0,n.useState)([]),[f,N]=(0,n.useState)({}),[y,w]=(0,n.useState)([]),v=e=>{y.includes(e)||w([...y,e])},_=e=>{w(y.filter((t=>t!==e)))};(0,n.useEffect)((()=>{let e=!0;return fetch("https://api.github.com/repos/subspace/subspace/releases").then((e=>{if(!e.ok)throw new Error("Failed to fetch GitHub releases");return e.json()})).then((n=>{if(e){const e=n.map((e=>e.tag_name)).filter((e=>RegExp(`^${a}.*$`).test(e)));t((t=>({...t,snapshot:e[0]}))),k(e)}})).then((()=>{e&&x({skipRewardAddressCheck:!0})})).catch((e=>{N({fetchError:e.message})})),()=>{e=!1}}),[]);const x=function(t){let{skipRewardAddressCheck:n=!1}=void 0===t?{}:t;const r=T();if(n||"st6GBwATPqtBkK5y4uXbV52euszPpFPw7wmkF8FywEqJaf8uP"!==e.rewardAddress)if(0===Object.keys(r).length){const t=`version: "3.7"\nservices:\n  node:\n    image: ghcr.io/subspace/node:${e.snapshot}${"aarch64"===e.arch?"-aarch64":""}\n    volumes:\n      - ${e.nodeData?e.nodeData:"node-data"}:/var/subspace:rw\n    ports:\n      - "0.0.0.0:${e.nodePort}:30333"\n      - "0.0.0.0:${e.nodeDsnPort}:30433"\n    restart: unless-stopped\n    command:\n      [\n        "--chain", "${a}",\n        "--base-path", "/var/subspace",\n        "--blocks-pruning", "256",\n        "--state-pruning", "archive-canonical",\n        "--port", "30333",\n        "--dsn-listen-on", "/ip4/0.0.0.0/tcp/30433",\n        "--rpc-cors", "all",\n        "--rpc-methods", "unsafe",\n        "--rpc-external",\n        "--validator",\n        "--name", "${e.nodeName}"\n      ]\n    healthcheck:\n      timeout: 5s\n      interval: 30s\n      retries: 60\n\n  farmer:\n    depends_on:\n      node:\n        condition: service_healthy\n    image: ghcr.io/subspace/farmer:${e.snapshot}${"aarch64"===e.arch?"-aarch64":""}\n    volumes:\n      - ${e.farmerData?e.farmerData:"farmer-data"}:/var/subspace:rw\n    ports:\n      - "0.0.0.0:${e.farmerPort}:30533"\n    restart: unless-stopped\n    command:\n      [\n        "farm",\n        "--node-rpc-url", "ws://node:9944",\n        "--listen-on", "/ip4/0.0.0.0/tcp/30533",\n        "--reward-address", "${e.rewardAddress}",\n        "path=/var/subspace,size=${e.plotSize}"\n      ]\n${e.nodeData&&e.farmerData?"":"volumes:"}${e.nodeData?"":"\n  node-data:"}${e.farmerData?"":"\n  farmer-data:"}            `;g(t),N({})}else N(r);else N({...r,rewardAddress:"Please enter your reward address"})},T=()=>{const t={};return/^(102[4-9]|10[3-9]\d{1,2}|[2-9]\d{2,3}|[1-5]\d{4,4}|6[0-4]\d{3,3}|65[0-4]\d{2,2}|655[0-2]\d|6553[0-5])$/.test(e.nodePort)||(t.nodePort="Invalid Node Port"),/^(102[4-9]|10[3-9]\d{1,2}|[2-9]\d{2,3}|[1-5]\d{4,4}|6[0-4]\d{3,3}|65[0-4]\d{2,2]|655[0-2]\d|6553[0-5])$/.test(e.nodeDsnPort)||(t.nodeDsnPort="Invalid Node DSN Port"),/^(102[4-9]|10[3-9]\d{1,2}|[2-9]\d{2,3}|[1-5]\d{4,4}|6[0-4]\d{3,3]|65[0-4]\d{2,2]|655[0-2]\d|6553[0-5])$/.test(e.farmerPort)||(t.farmerPort="Invalid Farmer Port"),/^[a-zA-Z0-9_/-]+$/.test(e.nodeName)||(t.nodeName="Invalid Node Name"),/^\d+(G|T)?$/.test(e.plotSize)||(t.plotSize="Invalid Plot Size"),/^st[a-zA-Z0-9]{47}$/.test(e.rewardAddress)||(t.rewardAddress="Invalid Reward Address"),/^(\/([^/]*\/?)*)?$/.test(e.nodeData)||(t.nodeData="Invalid Node Data"),/^(\/([^/]*\/?)*)?$/.test(e.farmerData)||(t.farmerData="Invalid Farmer Data"),t},E=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))};return n.createElement("div",{className:`container ${o} margin-vert--lg`,onKeyDown:e=>{"Enter"!==e.key||"input"!==e.target.tagName.toLowerCase()&&"select"!==e.target.tagName.toLowerCase()||x()}},n.createElement("h2",{className:"text--center margin-bottom--m"},"Docker Compose File Generator"),n.createElement("div",{className:`card ${s}`},n.createElement("div",{className:"card__body"},n.createElement("div",{className:u},[{label:"Node Port",name:"nodePort"},{label:"Node DSN Port",name:"nodeDsnPort"},{label:"Farmer Port",name:"farmerPort"},{label:"Node Name",name:"nodeName"},{label:"Plot Size",name:"plotSize"},{label:"Reward Address",name:"rewardAddress"},{label:"Node Data (Optional)",name:"nodeData"},{label:"Farmer Data (Optional)",name:"farmerData"}].map(((t,a)=>{let{label:r,name:o}=t;return n.createElement("div",{key:o,className:m},n.createElement("label",{htmlFor:o,className:`text--bold ${i} ${y.includes(o)?d:""}`,onMouseEnter:()=>v(o),onAnimationEnd:()=>_(o)},r,":"),n.createElement("input",{className:l,name:o,placeholder:r,onChange:E,value:e[o]}),f[o]&&n.createElement("p",{className:p},f[o]))})),n.createElement("div",{key:"snapshot",className:m},n.createElement("label",{htmlFor:"snapshot",className:`text--bold ${i} ${y.includes("snapshot")?d:""}`,onMouseEnter:()=>v("snapshot"),onAnimationEnd:()=>_("snapshot")},"Snapshot:"),n.createElement("select",{className:l,name:"snapshot",value:e.snapshot,onChange:E},b.map((e=>n.createElement("option",{key:e,value:e},e))))),n.createElement("div",{key:"arch",className:m},n.createElement("label",{htmlFor:"arch",className:`text--bold ${i} ${y.includes("arch")?d:""}`,onMouseEnter:()=>v("arch"),onAnimationEnd:()=>_("arch")},"Architecture:"),n.createElement("select",{className:l,name:"arch",value:e.arch,onChange:E},n.createElement("option",{value:"x86_64"},"x86_64 (skylake+)"),n.createElement("option",{value:"aarch64"},"aarch64")))),n.createElement("div",{className:`${m} text--center`},n.createElement("button",{className:`button button--primary button--lg ${c}`,onClick:x},"Generate")))),n.createElement("div",{className:"margin-top--lg container"},n.createElement(r.Z,{language:"yaml",title:"docker-compose.yaml"},h)))}},9110:(e,t,a)=>{a.d(t,{s:()=>s});var n=a(7294),r=a(614);const o={"systemd-service-generator-form__container":"systemd-service-generator-form__container_AmZQ","systemd-service-generator-form__card":"systemd-service-generator-form__card_Vfyi","systemd-service-generator-form__input":"systemd-service-generator-form__input_bgaB","systemd-service-generator-form__label":"systemd-service-generator-form__label_FWEC","systemd-service-generator-form__error-text":"systemd-service-generator-form__error-text_QVp3","systemd-service-generator-form__button--primary":"systemd-service-generator-form__button--primary_UhOJ","systemd-service-generator-form__grid":"systemd-service-generator-form__grid_BlKX","systemd-service-generator-form__group":"systemd-service-generator-form__group_WgPW","systemd-service-generator-form__checkbox-group":"systemd-service-generator-form__checkbox-group_p6YU","systemd-service-generator-form__label--glow":"systemd-service-generator-form__label--glow_qySV","glow-effect":"glow-effect__zrg","systemd-service-generator-form__checkbox":"systemd-service-generator-form__checkbox_H2lU","systemd-service-generator-form__text--error":"systemd-service-generator-form__text--error__s06","glow-effect-dark":"glow-effect-dark_foLM"};function s(){const[e,t]=(0,n.useState)({nodeBinPath:"/root/.local/bin/subspace-node",farmerBinPath:"/root/.local/bin/subspace-farmer",nodeData:"/root/.local/share/subspace-node",farmerData:"/root/.local/share/subspace-farmer",nodeName:"subspace",nodePort:"30333",nodeDsnPort:"30433",farmerPort:"30533",rewardAddress:"st6GBwATPqtBkK5y4uXbV52euszPpFPw7wmkF8FywEqJaf8uP",plotSize:"100G",archival:"off",sandbox:"on",user:"root",quic:"off",extraNodeArgs:"",extraFarmerArgs:""}),[a,s]=(0,n.useState)(""),[l,i]=(0,n.useState)(""),[c,u]=(0,n.useState)({}),[m,d]=(0,n.useState)([]),p=e=>{m.includes(e)||d([...m,e])},h=e=>{d(m.filter((t=>t!==e)))};(0,n.useEffect)((()=>{g({skipRewardAddressCheck:!0})}),[]);const g=function(a){let{skipRewardAddressCheck:n=!1}=void 0===a?{}:a;const r=b();n||"st6GBwATPqtBkK5y4uXbV52euszPpFPw7wmkF8FywEqJaf8uP"!==e.rewardAddress?0===Object.keys(r).length?((()=>{"root"!==e.user&&(("/root/.local/share/subspace-node"===e.nodeData||/^\/home\/([^\/\0]+)\/\.local\/share\/subspace-node$/.test(e.nodeData))&&t((t=>({...t,nodeData:`/home/${e.user}/.local/share/subspace-node`}))),("/root/.local/bin/subspace-node"===e.nodeBinPath||/^\/home\/([^\/\0]+)\/\.local\/bin\/subspace-node$/.test(e.nodeBinPath))&&t((t=>({...t,nodeBinPath:`/home/${e.user}/.local/bin/subspace-node`}))));const a=`[Unit]\nDescription=Subspace Node\nWants=network.target\nAfter=network.target\n\n[Service]\nUser=${e.user}\nGroup=${e.user}\nExecStart=${e.nodeBinPath} \\\n          --name ${e.nodeName} \\\n          --base-path ${e.nodeData} \\\n          --state-pruning archive-canonical \\\n          --keep-blocks ${"on"===e.archival?"archive-canonical":"256"} \\\n          --chain gemini-3g \\\n          --validator \\\n          --no-private-ip \\\n          --listen-addr /ip4/0.0.0.0/tcp/${e.nodePort} \\\n          --dsn-listen-on /ip4/0.0.0.0/tcp/${e.nodeDsnPort} ${"off"===e.quic&&""===e.extraNodeArgs?"":"\\\n"}          ${"on"===e.quic?`--dsn-listen-on /ip4/0.0.0.0/udp/${e.nodeDsnPort}/quic \\\n         --dsn-listen-on /ip4/0.0.0.0/udp/${e.nodeDsnPort}/quic-v1 `:""} ${""===e.extraNodeArgs||"off"===e.quic?"":"\\\n"}${e.extraNodeArgs} \nKillSignal=SIGINT\nRestart=always\nRestartSec=10\nNice=-5\nLimitNOFILE=100000${"on"===e.sandbox?"\nCapabilityBoundingSet=CAP_NET_BIND_SERVICE\nProtectKernelTunables=true\nProtectKernelModules=true\nProtectControlGroups=true\nProtectKernelLogs=true\nProtectHostname=true\nProtectClock=true\nProtectProc=invisible\nProcSubset=pid\nPrivateTmp=true\nPrivateUsers=true\nPrivateDevices=true\nPrivateIPC=true\nNoNewPrivileges=true\nLockPersonality=true\nRestrictRealtime=true\nRestrictSUIDSGID=true\nRestrictAddressFamilies=AF_INET AF_INET6\nRestrictNamespaces=true\nSystemCallArchitectures=native\nUMask=0077":""}\n\n[Install]\nWantedBy=multi-user.target`;s(a)})(),(()=>{"root"!==e.user&&(("/root/.local/share/subspace-farmer"===e.farmerData||/^\/home\/([^\/\0]+)\/\.local\/share\/subspace-farmer$/.test(e.farmerData))&&t((t=>({...t,farmerData:`/home/${e.user}/.local/share/subspace-farmer`}))),("/root/.local/bin/subspace-farmer"===e.farmerBinPath||/^\/home\/([^\/\0]+)\/\.local\/bin\/subspace-farmer$/.test(e.farmerBinPath))&&t((t=>({...t,farmerBinPath:`/home/${e.user}/.local/bin/subspace-farmer`}))));const a=`[Unit]\nDescription=Subspace Farmer\nWants=network.target\nAfter=network.target\nWants=subspace-node.service\nAfter=subspace-node.service\n\n[Service]\nUser=${e.user}\nGroup=${e.user}\nExecStart=${e.farmerBinPath} \\\n          farm \\\n          --reward-address ${e.rewardAddress} \\\n          --listen-on /ip4/0.0.0.0/tcp/${e.farmerPort} \\${"off"===e.quic?"":"\n"}          ${"on"===e.quic?`--listen-on /ip4/0.0.0.0/udp/${e.farmerPort}/quic \\\n          --listen-on /ip4/0.0.0.0/udp/${e.farmerPort}/quic-v1 `:""}${"off"===e.quic?"":"\\"}\n          path=${e.farmerData},size=${e.plotSize} ${""===e.extraFarmerArgs?"":"\\\n"}          ${e.extraFarmerArgs}\nKillSignal=SIGINT\nRestart=always\nRestartSec=10\nNice=-5\nLimitNOFILE=100000${"on"===e.sandbox?"\nCapabilityBoundingSet=CAP_NET_BIND_SERVICE\nProtectKernelTunables=true\nProtectKernelModules=true\nProtectControlGroups=true\nProtectKernelLogs=true\nProtectHostname=true\nProtectClock=true\nProtectProc=invisible\nProcSubset=pid\nPrivateTmp=true\nPrivateUsers=true\nPrivateDevices=true\nPrivateIPC=true\nNoNewPrivileges=true\nLockPersonality=true\nRestrictRealtime=true\nRestrictSUIDSGID=true\nRestrictAddressFamilies=AF_INET AF_INET6\nRestrictNamespaces=true\nSystemCallArchitectures=native\nUMask=0077":""}\n\n[Install]\nWantedBy=multi-user.target`;i(a)})(),u({})):u(r):u({...r,rewardAddress:"Please enter your reward address"})},b=()=>{const t={};return/^(102[4-9]|10[3-9]\d{1,2}|[2-9]\d{2,3}|[1-5]\d{4,4}|6[0-4]\d{3,3}|65[0-4]\d{2,2}|655[0-2]\d|6553[0-5])$/.test(e.nodePort)||(t.nodePort="Invalid Node Port"),/^(102[4-9]|10[3-9]\d{1,2}|[2-9]\d{2,3}|[1-5]\d{4,4}|6[0-4]\d{3,3}|65[0-4]\d{2,2]|655[0-2]\d|6553[0-5])$/.test(e.nodeDsnPort)||(t.nodeDsnPort="Invalid Node DSN Port"),/^(102[4-9]|10[3-9]\d{1,2}|[2-9]\d{2,3}|[1-5]\d{4,4}|6[0-4]\d{3,3}|65[0-4]\d{2,2]|655[0-2]\d|6553[0-5])$/.test(e.farmerPort)||(t.farmerPort="Invalid Farmer Port"),/^[a-zA-Z0-9_/-]+$/.test(e.nodeName)||(t.nodeName="Invalid Node Name"),/^[a-zA-Z0-9_/-]+$/.test(e.user)||(t.user="Invalid System Username"),/^(\/([^/]*\/?)*)?$/.test(e.nodeData)||(t.nodeData="Invalid Node Data"),/^(\/([^/]*\/?)*)?$/.test(e.farmerData)||(t.farmerData="Invalid Farmer Data"),/^\d+(G|T)?$/.test(e.plotSize)||(t.plotSize="Invalid Plot Size"),/^st[a-zA-Z0-9]{47}$/.test(e.rewardAddress)||(t.rewardAddress="Invalid Reward Address"),/^(\/([^/]*\/?)*)?$/.test(e.nodeBinPath)||(t.nodeBinPath="Invalid Node Binary Path"),/^(\/([^/]*\/?)*)?$/.test(e.farmerBinPath)||(t.farmerBinPath="Invalid Farmer Binary Path"),t},k=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))},f=e=>{const{name:a,checked:n}=e.target;t((e=>({...e,[a]:n?"on":"off"})))};return n.createElement("div",{className:`container ${o["systemd-service-generator-form__container"]} margin-vert--lg`,onKeyDown:e=>{"Enter"!==e.key||"input"!==e.target.tagName.toLowerCase()&&"select"!==e.target.tagName.toLowerCase()||g()}},n.createElement("h2",{className:"text--center margin-bottom--m"},"Systemd Service File Generator"),n.createElement("div",{className:`card ${o["systemd-service-generator-form__card"]}`},n.createElement("div",{className:"card__body"},n.createElement("div",{className:o["systemd-service-generator-form__grid"]},[{label:"Node Port",name:"nodePort"},{label:"Node DSN Port",name:"nodeDsnPort"},{label:"Farmer Port",name:"farmerPort"},{label:"Node Name",name:"nodeName"},{label:"Plot Size",name:"plotSize"},{label:"Reward Address",name:"rewardAddress"},{label:"Node Data",name:"nodeData"},{label:"Farmer Data",name:"farmerData"},{label:"Node Binary Path",name:"nodeBinPath"},{label:"Farmer Binary Path",name:"farmerBinPath"},{label:"Extra Node Arguments",name:"extraNodeArgs"},{label:"Extra Farmer Arguments",name:"extraFarmerArgs"},{label:"System User",name:"user"}].map(((t,a)=>{let{label:r,name:s}=t;return n.createElement("div",{key:s,className:o["systemd-service-generator-form__group"]},n.createElement("label",{htmlFor:s,className:`text--bold ${o["systemd-service-generator-form__label"]} ${m.includes(s)?o["systemd-service-generator-form__label--glow"]:""}`,onMouseEnter:()=>p(s),onAnimationEnd:()=>h(s)},r,":"),n.createElement("input",{className:o["systemd-service-generator-form__input"],name:s,placeholder:r,onChange:k,value:e[s]}),c[s]&&n.createElement("p",{className:o["systemd-service-generator-form__text--error"]},c[s]))})),[{label:"Archival",name:"archival"},{label:"Sandbox",name:"sandbox"},{label:"QUIC",name:"quic"}].map(((t,a)=>{let{label:r,name:s}=t;return n.createElement("div",{key:s,className:o["systemd-service-generator-form__checkbox-group"]},n.createElement("label",{htmlFor:s,className:`text--bold ${o["systemd-service-generator-form__label"]} ${m.includes(s)?o["systemd-service-generator-form__label--glow"]:""}`,onMouseEnter:()=>p(s),onAnimationEnd:()=>h(s)},r,":",n.createElement("br",null)),n.createElement("input",{className:`${o["systemd-service-generator-form__checkbox"]} ${o["systemd-service-generator-form__input"]}`,name:s,onChange:f,type:"checkbox",checked:"on"===e[s]?"checked":""}),c[s]&&n.createElement("p",{className:o["systemd-service-generator-form__text--error"]},c[s]))}))),n.createElement("div",{className:`${o["systemd-service-generator-form__group"]} text--center`},n.createElement("button",{className:`button button--primary button--lg ${o["systemd-service-generator-form__button--primary"]}`,onClick:g},"Generate")))),n.createElement("div",{className:"margin-top--lg container"},n.createElement(r.Z,{language:"ini",title:"subspace-node.service"},a)),n.createElement("div",{className:"margin-top--lg container"},n.createElement(r.Z,{language:"ini",title:"subspace-farmer.service"},l)))}},786:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>g,contentTitle:()=>p,default:()=>N,frontMatter:()=>d,metadata:()=>h,toc:()=>b});var n=a(7462),r=(a(7294),a(3905)),o=a(4866),s=a(5162),l=a(614),i=a(9960),c=a(1207),u=a(9628),m=a(9110);const d={title:"Advanced CLI",sidebar_position:3,description:"How to run a Subspace Network Farmer with the Substrate CLI",keywords:["Farmer","Farming","CLI","Binaries","Docker"]},p=void 0,h={unversionedId:"protocol/substrate-cli",id:"protocol/substrate-cli",title:"Advanced CLI",description:"How to run a Subspace Network Farmer with the Substrate CLI",source:"@site/i18n/ar/docusaurus-plugin-content-docs/current/protocol/substrate-cli.mdx",sourceDirName:"protocol",slug:"/protocol/substrate-cli",permalink:"/ar/docs/pre-release/protocol/substrate-cli",draft:!1,editUrl:"https://github.com/subspace/subspace-docs/blob/main/i18n/ar/docusaurus-plugin-content-docs/current/protocol/substrate-cli.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Advanced CLI",sidebar_position:3,description:"How to run a Subspace Network Farmer with the Substrate CLI",keywords:["Farmer","Farming","CLI","Binaries","Docker"]},sidebar:"tutorialSidebar",previous:{title:"Pulsar (Recommended)",permalink:"/ar/docs/pre-release/protocol/pulsar"},next:{title:"Timekeeping",permalink:"/ar/docs/pre-release/protocol/timekeeping"}},g={},b=[{value:"I. Pre-requisites",id:"i-pre-requisites",level:2},{value:"A. System Requirements",id:"a-system-requirements",level:3},{value:"B. Crypto Wallet",id:"b-crypto-wallet",level:3},{value:"C. Required ports",id:"c-required-ports",level:3},{value:"II. Installation",id:"ii-installation",level:2},{value:"Required dependencies",id:"required-dependencies",level:3},{value:"Useful Commands",id:"useful-commands",level:3},{value:"Upgrade",id:"upgrade",level:3},{value:"III. Post Node &amp; Farmer Install Care",id:"iii-post-node--farmer-install-care",level:2},{value:"Using a Custom Path",id:"using-a-custom-path",level:3},{value:"Set Node Custom Path.",id:"set-node-custom-path",level:4},{value:"Switching to a new snapshot from older/different versions of Subspace",id:"switching-to-a-new-snapshot-from-olderdifferent-versions-of-subspace",level:3},{value:"Wipe &amp; Purge",id:"wipe--purge",level:4},{value:"Docker Wipe &amp; Purge",id:"docker-wipe--purge",level:4},{value:"Help",id:"help",level:4},{value:"IV. Advanced",id:"iv-advanced",level:2},{value:"Node &amp; Farmer Commands Guide",id:"node--farmer-commands-guide",level:3},{value:"Common Command Examples",id:"common-command-examples",level:3},{value:"Utilizing Multiple Disks",id:"utilizing-multiple-disks",level:3},{value:"Optimizing DSN Syncing",id:"optimizing-dsn-syncing",level:3},{value:"Recommended Parameters",id:"recommended-parameters",level:4},{value:"Build from source (Linux)",id:"build-from-source-linux",level:3},{value:"V. Having Trouble?",id:"v-having-trouble",level:2},{value:"-   Forums",id:"----forums",level:3},{value:"-   Discord",id:"----discord",level:3},{value:"Enable Rust Backtrace",id:"enable-rust-backtrace",level:3},{value:"Enabling RUST_BACKTRACE on Windows (PowerShell)",id:"enabling-rust_backtrace-on-windows-powershell",level:4},{value:"Enabling RUST_BACKTRACE on macOS",id:"enabling-rust_backtrace-on-macos",level:4},{value:"Enabling RUST_BACKTRACE on Linux",id:"enabling-rust_backtrace-on-linux",level:4},{value:"Enabling RUST_BACKTRACE on Linux Service",id:"enabling-rust_backtrace-on-linux-service",level:4}],k={toc:b},f="wrapper";function N(e){let{components:t,...a}=e;return(0,r.kt)(f,(0,n.Z)({},k,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{title:"Advanced Usage",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://github.com/subspace/pulsar"},"Pulsar")," (previously Simple CLI or Subspace CLI) is the recommended way to farm on the Subspace Network. Follow the guide below to get started or check out the project ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/subspace/pulsar/blob/main/README.md"},"README on GitHub"),".")),(0,r.kt)("admonition",{title:"Feedback!",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Your insights on our releases elevate our progress. Fill out this ",(0,r.kt)("a",{parentName:"p",href:"https://c6gxctjlh68.typeform.com/to/Ks4Y16Fo"},"form"),", your voice will be heard and addressed.")),(0,r.kt)("h2",{id:"i-pre-requisites"},"I. Pre-requisites"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"a-system-requirements"},"A. System Requirements"),(0,r.kt)("admonition",{title:"Farming can be Network Intensive.",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Make sure you have a stable network connection. During the plotting phase of farming, it can be network intensive."),(0,r.kt)("p",{parentName:"admonition"},"This may impact your network usage so please check your network connection if you have a hard data limit.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Hardware"),(0,r.kt)("th",{parentName:"tr",align:null},"Specs"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CPU"),(0,r.kt)("td",{parentName:"tr",align:null},"4 Core+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"RAM"),(0,r.kt)("td",{parentName:"tr",align:null},"8GB+")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"SWAP"),(0,r.kt)("td",{parentName:"tr",align:null},"4GB")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Storage"),(0,r.kt)("td",{parentName:"tr",align:null},"100GB SSD")))),(0,r.kt)("admonition",{title:"SWAP Warning",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"A swap is only necessary if you have a low amount of RAM. ")),(0,r.kt)("admonition",{title:"CoW Filesystems Warning",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If BTRFS is used with Subspace, the directory/whole file system must be CoW disabled with the following command prior to starting Subspace, because it only applies to newly created files."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Command to Disable CoW on BTRFS")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo chattr +C path/to/data/dir\n")),(0,r.kt)("p",{parentName:"admonition"},"Alternatively, non-CoW file systems like ext4 or XFS can be used instead.")),(0,r.kt)("admonition",{title:"Redundancy",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Using redundancy (RAID1/5/6, RAIDZ and others) on a filesystem with plot makes no sense, as the farmer uses checksums to verify the integrity of the plot, and is able to recover corrupted blocks if necessary in most cases. See ",(0,r.kt)("inlineCode",{parentName:"p"},"scrub")," command below.")),(0,r.kt)("admonition",{title:"Filesystem chunk size",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"XFS")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo mkfs.xfs -d su=32k,sw=1 /path/to/dev\n")),(0,r.kt)("p",{parentName:"admonition"},"Then use ",(0,r.kt)("inlineCode",{parentName:"p"},"largeio")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"swalloc")," mount options."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"ext4")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo mkfs.ext4 -E stride=8,stripe-width=8 /path/to/dev\n")),(0,r.kt)("p",{parentName:"admonition"},"You can change these settings for an existing file system:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo tune2fs -E stride=8,stripe-width=8 /path/to/dev\n"))),(0,r.kt)("h3",{id:"b-crypto-wallet"},"B. Crypto Wallet"),(0,r.kt)("p",null,"Before running anything you need to have a wallet where you'll receive testnet coins. There are currently two wallets we suggest using, SubWallet being the preferred route."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://subwallet.app/"},"SubWallet")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://polkadot.js.org/extension/"},"PolkadotJS"))),(0,r.kt)("p",null,"Install one of the two wallets above into your browser and create a new account there.\nThe address of your account will be necessary at the last step."),(0,r.kt)("p",null,"For help refer to our forum post ",(0,r.kt)("a",{parentName:"p",href:"https://forum.subspace.network/t/subspace-wallet/61"},"How to setup Subwallet & a Polkadot.js Wallet")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"make sure to follow the Bonus section of the bottom of the post above."))),(0,r.kt)("h3",{id:"c-required-ports"},"C. Required ports"),(0,r.kt)("p",null,"Currently, a few ports need to be exposed for node to work properly."),(0,r.kt)("p",null,"If you have a server with no firewall, there is nothing to be done, but otherwise make sure to open the following TCP and UDP ports for incoming connections."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"30333")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"30433")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"30533"))),(0,r.kt)("p",null,"On the desktop side if you have a router in front of your computer, you'll need to forward TCP and UDP ports to the machine on which your node is running (how this is done varies from router to router, but there is always a feature like this, refer to ",(0,r.kt)("a",{parentName:"p",href:"/ar/docs/pre-release/protocol/port-forwarding"},"How to Forward Ports")," for a more in-depth tutorial).\nIf you're connected directly without any router, then again nothing needs to be done in such case."),(0,r.kt)("h2",{id:"ii-installation"},"II. Installation"),(0,r.kt)("hr",null),(0,r.kt)("admonition",{title:"Looking for all Releases?",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can always find these executables in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/subspace/subspace/releases"},"Releases")," section on our GitHub")),(0,r.kt)("p",null,"We will be downloading two files for your respective operating system."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Subspace-Node")," - This is the executable that actually makes the connection with the Subspace Network"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Subspace-Farmer")," - This is the executable that will actually farm for rewards on your allocated storage plot.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("em",{parentName:"li"},"Those using Docker will not have to download anything, just configure the ",(0,r.kt)("inlineCode",{parentName:"em"},"docker-compose.yaml")))),(0,r.kt)(o.Z,{groupId:"OS",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"docker",label:"\ud83d\udc0b Docker",default:!0,mdxType:"TabItem"},(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Input your parameters in the provided form and click ",(0,r.kt)("inlineCode",{parentName:"li"},"Generate"),".\nDon't forget to specify your reward address instead of a default one!")),(0,r.kt)(u.Z,{mdxType:"DockerFileGenerator"}),"2. Copy the generated `docker-compose.yaml` file.",(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create the ",(0,r.kt)("inlineCode",{parentName:"p"},"subspace")," directory and the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yaml")," file in it. Paste the output from the generator into the file.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Now go to directory with ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yaml")," and type ",(0,r.kt)("inlineCode",{parentName:"p"},"docker compose up -d")," to start everything"),(0,r.kt)("p",{parentName:"li"},"You can read logs with ",(0,r.kt)("inlineCode",{parentName:"p"},"docker compose logs --tail=1000 -f"),", for the rest read ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/reference/"},"Docker Compose CLI reference"),".")))),(0,r.kt)(s.Z,{value:"windows",label:"\ud83d\uddbc\ufe0f Windows",default:!0,mdxType:"TabItem"},(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand for Version 2 - For older processors since ~2009 and some old VMs"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-windows-x86_64-v2-gemini-3g-2023-oct-31.exe",mdxType:"Link"},"Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-windows-x86_64-v2-gemini-3g-2023-oct-31.exe",mdxType:"Link"},"Download Farmer Executable"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Expand for Version skylake - For newer processors since ~2015"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-windows-x86_64-skylake-gemini-3g-2023-oct-31.exe",mdxType:"Link"},"Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-windows-x86_64-skylake-gemini-3g-2023-oct-31.exe",mdxType:"Link"},"Download Farmer Executable"))),(0,r.kt)("hr",null),(0,r.kt)("admonition",{title:"Windows No Output Bug",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"  If you face an error where the node outputs nothing and no error code is given it is likely you just need to install the latest Visual C++ Redistributable package ",(0,r.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170"},"here"))),(0,r.kt)("admonition",{title:"High RAM consumption",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"  Operating systems, such as Windows, allocate memory for both visible tasks and behind-the-scenes processes.\nWhile this memory can be readily freed when necessary, Windows occasionally may not display these allocations accurately due to certain system nuances.\nHigh RAM consumption should not be a cause for concern.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open ",(0,r.kt)("inlineCode",{parentName:"li"},"Powershell")," (we do not recommend using Command Prompt as its syntax is slightly different)"),(0,r.kt)("li",{parentName:"ol"},"In the terminal we will change to the Downloads directory using this command ",(0,r.kt)("inlineCode",{parentName:"li"},"cd Downloads")),(0,r.kt)("li",{parentName:"ol"},"We will then start the node using the following command",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"You may get a popup asking for firewall permission, make sure to click ",(0,r.kt)("inlineCode",{parentName:"p"},"Allow"))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},'# Replace `INSERT_YOUR_ID` with a nickname you choose\n# Copy all of the lines below, they are all part of the same command\n.\\subspace-node-windows-x86_64-skylake-gemini-3g-2023-oct-31.exe `\n  --chain gemini-3g `\n  --blocks-pruning 256 `\n  --state-pruning archive-canonical `\n  --validator `\n  --name "INSERT_YOUR_ID"\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"You should see something similar in the terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"2022-02-03 10:52:23 Subspace\n2022-02-03 10:52:23 \u270c\ufe0f  version 0.1.0-35cf6f5-x86_64-windows\n2022-02-03 10:52:23 \u2764\ufe0f  by Subspace Labs <https://subspace.network>, 2021-2022\n2022-02-03 10:52:23 \ud83d\udccb Chain specification: Subspace Gemini 1\n2022-02-03 10:52:23 \ud83c\udff7  Node name: YOUR_FANCY_NAME\n2022-02-03 10:52:23 \ud83d\udc64 Role: AUTHORITY\n2022-02-03 10:52:23 \ud83d\udcbe Database: RocksDb at C:\\Users\\X\\AppData\\Local\\subspace-node-windows-x86_64-snapshot-2022-jan-05.exe\\data\\chains\\subspace_test\\db\\full\n2022-02-03 10:52:23 \u26d3  Native runtime: subspace-100 (subspace-1.tx1.au1)\n2022-02-03 10:52:23 \ud83d\udd28 Initializing Genesis block/state (state: 0x22a5\u202617ea, header-hash: 0x6ada\u20260d38)\n2022-02-03 10:52:24 \u23f1  Loaded block-time = 1s from block 0x6ada0792ea62bf3501abc87d92e1ce0e78ddefba66f02973de54144d12ed0d38\n2022-02-03 10:52:24 Starting archiving from genesis\n2022-02-03 10:52:24 Archiving already produced blocks 0..=0\n2022-02-03 10:52:24 \ud83c\udff7  Local node identity is: 12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:24 \ud83e\uddd1\u200d\ud83c\udf3e Starting Subspace Authorship worker\n2022-02-03 10:52:24 \ud83d\udce6 Highest known block at #0\n2022-02-03 10:52:24 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2022-02-03 10:52:24 Listening for new connections on 0.0.0.0:9944.\n2022-02-03 10:52:26 \ud83d\udd0d Discovered new external address for our node: /ip4/176.233.17.199/tcp/30333/p2p/12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:29 \u2699\ufe0f  Syncing, target=#215883 (2 peers), best: #55 (0xafc7\u2026bccf), finalized #0 (0x6ada\u20260d38), \u2b07 850.1kiB/s \u2b06 1.5kiB/s\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"After running this command, Windows may ask you for permissions related to firewall, select ",(0,r.kt)("inlineCode",{parentName:"li"},"allow")," in this case."),(0,r.kt)("li",{parentName:"ol"},"We will then open another terminal, change to the downloads directory, then start the farmer node with the following command:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-PowerShell"},"  # Replace `PATH_TO_FARM` with location where you want you store plot files\n  # Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet\n  # Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for example 100G or 2T (but leave at least 60G of disk space for node and some for OS)\n  .\\subspace-farmer-windows-x86_64-skylake-gemini-3g-2023-oct-31.exe farm --reward-address WALLET_ADDRESS path=PATH_TO_FARM,size=PLOT_SIZE\n")),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"You should see something similar in the terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944\n2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target { sockaddrs: [], host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/" }\n2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping\n2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot\n2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments\n2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications\n2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments\n2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5\n')),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"You are now Farming! Just wait for your node to fully sync, and for your farmer to fully plot."))),(0,r.kt)(s.Z,{value:"macos",label:"\ud83c\udf4emacOS",default:!0,mdxType:"TabItem"},(0,r.kt)("details",null,(0,r.kt)("summary",null,"Mac CLI Executable (Intel)"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-macos-x86_64-gemini-3g-2023-oct-31.zip",mdxType:"Link"},"Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-macos-x86_64-gemini-3g-2023-oct-31.zip",mdxType:"Link"},"Download Farmer Executable"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Mac CLI Executable (Apple M Series)"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-macos-aarch64-gemini-3g-2023-oct-31.zip",mdxType:"Link"},"Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-macos-aarch64-gemini-3g-2023-oct-31.zip",mdxType:"Link"},"Download Farmer Executable"))),(0,r.kt)("hr",null),(0,r.kt)("admonition",{title:"Minimum macOS Version",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"  The minimum support macOS version is version 12+")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open your favorite terminal, and change to the Downloads directory using ",(0,r.kt)("inlineCode",{parentName:"li"},"cd Downloads")),(0,r.kt)("li",{parentName:"ol"},"Make the farmer & node executable:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-farmer-macos-aarch64-gemini-3g-2023-oct-31")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-node-macos-aarch64-gemini-3g-2023-oct-31"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"We will then start the node using the following command")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("em",{parentName:"p"},"Note, when attempting to run this command you may be prompted:")," Click on ",(0,r.kt)("inlineCode",{parentName:"p"},"cancel")," instead of moving it to trash.\nTo allow execution, go to ",(0,r.kt)("inlineCode",{parentName:"p"},"System Preferences -> Security & Privacy -> General"),", and click on ",(0,r.kt)("inlineCode",{parentName:"p"},"allow"),".\nAfter this, simply repeat the step you prompted for (step 4 or 6). This time, click the ",(0,r.kt)("inlineCode",{parentName:"p"},"Open")," button when prompted.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# Replace `INSERT_YOUR_ID` with a nickname you choose\n# Copy all of the lines below, they are all part of the same command\n./subspace-node-macos-aarch64-gemini-3g-2023-oct-31 \\\n  --chain gemini-3g \\\n  --blocks-pruning 256 \\\n  --state-pruning archive-canonical \\\n  --validator \\\n  --name "INSERT_YOUR_ID"\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"You should see something similar in the terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"2022-02-03 10:52:23 Subspace\n2022-02-03 10:52:23 \u270c\ufe0f  version 0.1.0-35cf6f5-x86_64-macos\n2022-02-03 10:52:23 \u2764\ufe0f  by Subspace Labs <https://subspace.network>, 2021-2022\n2022-02-03 10:52:23 \ud83d\udccb Chain specification: Subspace Gemini 1\n2022-02-03 10:52:23 \ud83c\udff7  Node name: YOUR_FANCY_NAME\n2022-02-03 10:52:23 \ud83d\udc64 Role: AUTHORITY\n2022-02-03 10:52:23 \ud83d\udcbe Database: RocksDb at /Users/X/Library/Application Support/subspace-node-x86_64-macos-11-snapshot-2022-jan-05/chains/subspace_test/db/full\n2022-02-03 10:52:23 \u26d3  Native runtime: subspace-100 (subspace-1.tx1.au1)\n2022-02-03 10:52:23 \ud83d\udd28 Initializing Genesis block/state (state: 0x22a5\u202617ea, header-hash: 0x6ada\u20260d38)\n2022-02-03 10:52:24 \u23f1  Loaded block-time = 1s from block 0x6ada0792ea62bf3501abc87d92e1ce0e78ddefba66f02973de54144d12ed0d38\n2022-02-03 10:52:24 Starting archiving from genesis\n2022-02-03 10:52:24 Archiving already produced blocks 0..=0\n2022-02-03 10:52:24 \ud83c\udff7  Local node identity is: 12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:24 \ud83e\uddd1\u200d\ud83c\udf3e Starting Subspace Authorship worker\n2022-02-03 10:52:24 \ud83d\udce6 Highest known block at #0\n2022-02-03 10:52:24 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2022-02-03 10:52:24 Listening for new connections on 0.0.0.0:9944.\n2022-02-03 10:52:26 \ud83d\udd0d Discovered new external address for our node: /ip4/176.233.17.199/tcp/30333/p2p/12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:29 \u2699\ufe0f  Syncing, target=#215883 (2 peers), best: #55 (0xafc7\u2026bccf), finalized #0 (0x6ada\u20260d38), \u2b07 850.1kiB/s \u2b06 1.5kiB/s\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"We will then open another terminal, change to the downloads directory, then start the farmer node with the following command:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"}," # Replace `PATH_TO_FARM` with location where you want you store plot files\n # Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet\n # Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for example 100G or 2T (but leave at least 60G of disk space for node and some for OS)\n ./subspace-farmer-macos-aarch64-gemini-3g-2023-oct-31 farm --reward-address WALLET_ADDRESS path=PATH_TO_FARM,size=PLOT_SIZE\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"It may prompt again in here. Refer to the note on step 4.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"You should see something similar in the terminal:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944\n2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target { sockaddrs: [], host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/" }\n2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping\n2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot\n2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments\n2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications\n2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments\n2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5\n')),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"You are now Farming! Just wait for your node to fully sync, and for your farmer to fully plot."))),(0,r.kt)(s.Z,{value:"linux",label:"\ud83d\udc27Ubuntu",mdxType:"TabItem"},(0,r.kt)("details",null,(0,r.kt)("summary",null,"x86_64 Ubuntu Executables"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Version 2 - for older processors since ~2009 and some old VMs"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-ubuntu-x86_64-v2-gemini-3g-2023-oct-31",mdxType:"Link"},"Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-ubuntu-x86_64-v2-gemini-3g-2023-oct-31",mdxType:"Link"},"Download Farmer Executable"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Version skylake - For newer processors since ~2015"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-ubuntu-x86_64-skylake-gemini-3g-2023-oct-31",mdxType:"Link"},"Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-ubuntu-x86_64-skylake-gemini-3g-2023-oct-31",mdxType:"Link"},"Download Farmer Executable")))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Aarch64/64-bit Raspberry Pi Executables"),(0,r.kt)("div",{className:c.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-node-ubuntu-aarch64-gemini-3g-2023-oct-31",mdxType:"Link"},"1. Download Node Executable"),(0,r.kt)(i.Z,{className:"button button--secondary button",to:"https://github.com/subspace/subspace/releases/download/gemini-3g-2023-oct-31/subspace-farmer-ubuntu-aarch64-gemini-3g-2023-oct-31",mdxType:"Link"},"2. Download Farmer Executable"))),(0,r.kt)("hr",null),(0,r.kt)("admonition",{title:"Linux File Descriptor Limit",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"  The Linux system has a hard file descriptor limit of 100k. If this is exceeded, an error will be thrown. For reference, Substrate by default has a 10k hard file descriptor limit."),(0,r.kt)("p",{parentName:"admonition"},"  The limit can generally be found on the path /proc/sys/fs/file-max. It is recommended to change the limit to 100k if it is not already. Here is an example ",(0,r.kt)("a",{parentName:"p",href:"https://www.tutorialspoint.com/increase-number-of-maximum-open-files-in-linux"},"tutorial."))),(0,r.kt)("h3",{id:"required-dependencies"},"Required dependencies"),(0,r.kt)("p",null,"  There are two packages that are typically already installed, but might be missing on your machine."),(0,r.kt)("p",null,"  If you see this error:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"error while loading shared libraries: libgomp.so.1: cannot open shared object file: No such file or directory")),(0,r.kt)("p",null,"  Make sure to install ",(0,r.kt)("inlineCode",{parentName:"p"},"libgomp1")," library with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo apt-get install libgomp1"),"."),(0,r.kt)("hr",null),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open your favorite terminal, and change to the Downloads directory using ",(0,r.kt)("inlineCode",{parentName:"li"},"cd Downloads")),(0,r.kt)("li",{parentName:"ol"},"Make the farmer & node executable")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-farmer-ubuntu-x86_64-skylake-gemini-3g-2023-oct-31")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chmod +x subspace-node-ubuntu-x86_64-skylake-gemini-3g-2023-oct-31"))),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"We will then start the node using the following command")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'  # Replace `INSERT_YOUR_ID` with a nickname you choose\n  # Copy all of the lines below, they are all part of the same command\n  ./subspace-node-ubuntu-x86_64-skylake-gemini-3g-2023-oct-31 \\\n    --chain gemini-3g \\\n    --blocks-pruning 256 \\\n    --state-pruning archive-canonical \\\n    --validator \\\n    --name "INSERT_YOUR_ID"\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"You should see something similar in the terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"2022-02-03 10:52:23 Subspace\n2022-02-03 10:52:23 \u270c\ufe0f  version 0.1.0-35cf6f5-x86_64-ubuntu\n2022-02-03 10:52:23 \u2764\ufe0f  by Subspace Labs <https://subspace.network>, 2021-2022\n2022-02-03 10:52:23 \ud83d\udccb Chain specification: Subspace Gemini 1\n2022-02-03 10:52:23 \ud83c\udff7  Node name: YOUR_FANCY_NAME\n2022-02-03 10:52:23 \ud83d\udc64 Role: AUTHORITY\n2022-02-03 10:52:23 \ud83d\udcbe Database: RocksDb at /home/X/.local/share/subspace-node-x86_64-ubuntu-20.04-snapshot-2022-jan-05/chains/subspace_test/db/full\n2022-02-03 10:52:23 \u26d3  Native runtime: subspace-100 (subspace-1.tx1.au1)\n2022-02-03 10:52:23 \ud83d\udd28 Initializing Genesis block/state (state: 0x22a5\u202617ea, header-hash: 0x6ada\u20260d38)\n2022-02-03 10:52:24 \u23f1  Loaded block-time = 1s from block 0x6ada0792ea62bf3501abc87d92e1ce0e78ddefba66f02973de54144d12ed0d38\n2022-02-03 10:52:24 Starting archiving from genesis\n2022-02-03 10:52:24 Archiving already produced blocks 0..=0\n2022-02-03 10:52:24 \ud83c\udff7  Local node identity is: 12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:24 \ud83e\uddd1\u200d\ud83c\udf3e Starting Subspace Authorship worker\n2022-02-03 10:52:24 \ud83d\udce6 Highest known block at #0\n2022-02-03 10:52:24 \u303d\ufe0f Prometheus exporter started at 127.0.0.1:9615\n2022-02-03 10:52:24 Listening for new connections on 0.0.0.0:9944.\n2022-02-03 10:52:26 \ud83d\udd0d Discovered new external address for our node: /ip4/176.233.17.199/tcp/30333/p2p/12D3KooWBgKtea7MVvraeNyxdPF935pToq1x9VjR1rDeNH1qecXu\n2022-02-03 10:52:29 \u2699\ufe0f  Syncing, target=#215883 (2 peers), best: #55 (0xafc7\u2026bccf), finalized #0 (0x6ada\u20260d38), \u2b07 850.1kiB/s \u2b06 1.5kiB/s\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"We will then open another terminal, change to the downloads directory, then start the farmer node with the following command:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"}," # Replace `PATH_TO_FARM` with location where you want you store plot files\n # Replace `WALLET_ADDRESS` below with your account address from Polkadot.js wallet\n # Replace `PLOT_SIZE` with plot size in gigabytes or terabytes, for example 100G or 2T (but leave at least 60G of disk space for node and some for OS)\n ./subspace-farmer-ubuntu-x86_64-skylake-gemini-3g-2023-oct-31 farm --reward-address WALLET_ADDRESS path=PATH_TO_FARM,size=PLOT_SIZE\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"You should see something similar in the terminal:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'2022-06-02T00:02:04.552120Z  INFO subspace_farmer::commands::farm: Connecting to node at ws://127.0.0.1:9944\n2022-06-02T00:02:04.557220Z  INFO jsonrpsee_client_transport::ws: Connection established to target: Target sockaddrs: , host: "127.0.0.1", host_header: "127.0.0.1:9944", _mode: Plain, path_and_query: "/"\n2022-06-02T00:02:04.575669Z  INFO subspace_farmer::commands::farm: Opening object mapping\n2022-06-02T00:02:04.617553Z  INFO subspace_farmer::multi_farming: Opening plot\n2022-06-02T00:02:04.645422Z  INFO subspace_farmer::multi_farming: Opening commitments\n2022-06-02T00:02:04.666925Z  INFO subspace_farmer::farming: Subscribing to slot info notifications\n2022-06-02T00:02:04.688218Z  INFO subspace_farmer::archiving: Subscribing to archived segments\n2022-06-02T00:02:04.689129Z  INFO subspace_farmer::commands::farm: WS RPC server listening on 127.0.0.1:9955\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=0\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=1\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=2\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=3\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=4\n2022-06-02T00:02:09.492868Z  INFO subspace_farmer::archiving: Plotted segment segment_index=5\n')),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"You are now Farming! Just wait for your node to fully sync, and for your farmer to fully plot."))),(0,r.kt)(s.Z,{value:"systemd_service",label:"\u2699 Service (Linux)",mdxType:"TabItem"},(0,r.kt)("admonition",{title:"Security risks",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Running a node as a root user carries significant risks for the system.\nIt is recommended to create a separate user for this purpose.")),(0,r.kt)(o.Z,{groudId:"service_user",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"root",label:"\ud83e\udeda Root",default:!0,mdxType:"TabItem"},"Create a Directory for Executable Files:",(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"mkdir -p /root/.local/bin\n")),(0,r.kt)("p",null,"Download the Executable Files, using the appropriate commands:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"x86_64 Ubuntu Executables"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Version 2 - for older processors since ~2009 and some old VMs"),"Node:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-node https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-node-ubuntu-x86_64-v2-gemini-3g-2023-sep-25"),"Farmer:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-farmer https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-farmer-ubuntu-x86_64-v2-gemini-3g-2023-sep-25")),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Version skylake - For newer processors since ~2015"),"Node:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-node https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-node-ubuntu-x86_64-skylake-gemini-3g-2023-sep-25"),"Farmer:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-farmer https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-farmer-ubuntu-x86_64-skylake-gemini-3g-2023-sep-25"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Aarch64/64-bit Raspberry Pi Executables"),"Node:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-node https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-node-ubuntu-aarch64-gemini-3g-2023-sep-25"),"Farmer:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-farmer https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-farmer-ubuntu-aarch64-gemini-3g-2023-sep-25")),(0,r.kt)("p",null,"By default, these commands download the executable files to the ",(0,r.kt)("inlineCode",{parentName:"p"},"/root/.local/bin")," directory.\nYou can change the directory by modifying the respective string."),(0,r.kt)("p",null,"You can use the same commands to update the node."),(0,r.kt)("p",null,"Make the Files Executable:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"chmod +x /root/.local/bin/subspace-node\nchmod +x /root/.local/bin/subspace-farmer\n")),(0,r.kt)("p",null,"Create a Directory for Node and Farmer Data:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"mkdir -p /root/.local/share\n"))),(0,r.kt)(s.Z,{value:"regular_user",label:"\ud83d\udc64 Regular User",mdxType:"TabItem"},"Create a New User for Subspace:",(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},'sudo useradd -m -p ! -s /sbin/nologin -c "" subspace\n')),(0,r.kt)("p",null,"You can also use an existing user, but having a separate user enhances the security of your server."),(0,r.kt)("p",null,"Switch to the Newly Created User:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"sudo su subspace -s /bin/bash\n")),(0,r.kt)("p",null,"Create a Directory for Executable Files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"mkdir -p ~/.local/bin\n")),(0,r.kt)("p",null,"Download the Executable Files, using the appropriate commands:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"x86_64 Ubuntu Executables"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Version 2 - for older processors since ~2009 and some old VMs"),"Node:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-node https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-node-ubuntu-x86_64-v2-gemini-3g-2023-sep-25"),"Farmer:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-farmer https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-farmer-ubuntu-x86_64-v2-gemini-3g-2023-sep-25")),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Version skylake - For newer processors since ~2015"),"Node:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-node https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-node-ubuntu-x86_64-skylake-gemini-3g-2023-sep-25"),"Farmer:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-farmer https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-farmer-ubuntu-x86_64-skylake-gemini-3g-2023-sep-25"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Aarch64/64-bit Raspberry Pi Executables"),"Node:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-node https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-node-ubuntu-aarch64-gemini-3g-2023-sep-25"),"Farmer:",(0,r.kt)(l.Z,{language:"shell-session",mdxType:"CodeBlock"},"wget -O /root/.local/bin/subspace-farmer https://github.com/subspace/subspace/releases/download/gemini-3g-2023-sep-25/subspace-farmer-ubuntu-aarch64-gemini-3g-2023-sep-25")),(0,r.kt)("p",null,"By default, these commands download the executable files to the ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.local/bin")," directory.\nYou can change the directory by modifying the respective string."),(0,r.kt)("p",null,"You can use the same commands to update the node."),(0,r.kt)("p",null,"Make the Files Executable:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"chmod +x ~/.local/bin/subspace-node\nchmod +x ~/.local/bin/subspace-farmer\n")),(0,r.kt)("p",null,"Create a Directory for Node and Farmer Data:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"mkdir -p ~/.local/share\n")),(0,r.kt)("p",null,"Exit from the User:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"exit\n")))),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Generate Contents for the Service Files, replacing the relevant fields.\nRemember to change the username if setting up the node from a regular user:"),(0,r.kt)(m.s,{mdxType:"AdvancedSystemdServiceFileGenerator"}),(0,r.kt)("p",null,"Open the Node Service File and Paste the Corresponding Generated Content:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"EDITOR=nano sudo -e /etc/systemd/system/subspace-node.service\n")),(0,r.kt)("p",null,"Open the Farmer Service File and Paste the Corresponding Generated Content:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"EDITOR=nano sudo -e /etc/systemd/system/subspace-farmer.service\n")),(0,r.kt)("p",null,"Enable and Start the Node and Farmer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl enable --now subspace-{node,farmer}\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"useful-commands"},"Useful Commands"),(0,r.kt)("p",null,"Start Node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl start subspace-node\n")),(0,r.kt)("p",null,"Start Farmer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl start subspace-farmer\n")),(0,r.kt)("p",null,"Stop Node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl stop subspace-node\n")),(0,r.kt)("p",null,"Stop Farmer:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl stop subspace-farmer\n")),(0,r.kt)("p",null,"Enable Node (for automatic startup on system boot):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl enable subspace-node\n")),(0,r.kt)("p",null,"Enable Farmer (for automatic startup on system boot):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl enable subspace-farmer\n")),(0,r.kt)("p",null,"Disable Node (to prevent automatic startup on system boot):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl disable subspace-node\n")),(0,r.kt)("p",null,"Disable Node (to prevent automatic startup on system boot):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl disable subspace-farmer\n")),(0,r.kt)("p",null,"Check Node Service Status:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl status subspace-node\n")),(0,r.kt)("p",null,"Check Farmer Service Status:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl status subspace-farmer\n")),(0,r.kt)("p",null,"View Node Logs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo journalctl -f -o cat -u subspace-node\n")),(0,r.kt)("p",null,"View Farmer Logs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo journalctl -f -o cat -u subspace-farmer\n")),(0,r.kt)("p",null,"Count Farmer Rewards Received in the Last Hour:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},'sudo journalctl -o cat -u subspace-farmer --since="1 hour ago" | grep -i "Successfully signed reward hash" | wc -l\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"upgrade"},"Upgrade"),(0,r.kt)("p",null,"To upgrade a node and farmer, first, stop running services:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl stop subspace-{node,farmer}\n")),(0,r.kt)("p",null,"After using the commands from the beginning of the manual, download the executable files of the new release.\nAnd if you installed under a regular user, you will need to switch to that user beforehand."),(0,r.kt)("p",null,"Now you can start the services:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl start subspace-{node,farmer}\n")))),(0,r.kt)("h2",{id:"iii-post-node--farmer-install-care"},"III. Post Node & Farmer Install Care"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Now that your Node & Farmer have been started you will wait for the node to sync and the farmer to complete the initial plotting. While this is occurring you can check out some of the helpful resources below."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"- ",(0,r.kt)("a",{parentName:"strong",href:"https://telemetry.subspace.network/#list/0x92e91e657747c41eeabed5129ff51689d2e935b9f6abfbd5dfcb2e1d0d035095"},"Telemetry Server"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"- ",(0,r.kt)("a",{parentName:"strong",href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frpc-0.gemini-3g.subspace.network%2Fws#/explorer"},"Block Explorer"))),(0,r.kt)("h3",{id:"using-a-custom-path"},"Using a Custom Path"),(0,r.kt)("p",null,"You can set a custom path for your node & farmer to use if you want to use an external hard drive, or set a custom path from the default. You can set the node and farmer to different directories if you would like."),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"node",label:"1.\ud83d\udea9 Node",mdxType:"TabItem"},(0,r.kt)("h4",{id:"set-node-custom-path"},"Set Node Custom Path."),(0,r.kt)("p",null,"To set your node to use a custom path all you will need to do is add the ",(0,r.kt)("inlineCode",{parentName:"p"},"--base-path")," parameter."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# start node and store data in `NODE_DATA_PATH` instead of default location\n./NODE_FILE_NAME --base-path NODE_DATA_PATH --chain gemini-3g ...`\n")))),(0,r.kt)("h3",{id:"switching-to-a-new-snapshot-from-olderdifferent-versions-of-subspace"},"Switching to a new snapshot from older/different versions of Subspace"),(0,r.kt)("admonition",{title:"null",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Unless specifically mentioned by the Development team you should ",(0,r.kt)("strong",{parentName:"p"},"NOT")," have to wipe & purge your configuration on new releases.")),(0,r.kt)("p",null,"In general you should be able to download the latest release, and re-start the Node & Farmer with the same commands as you started to prior version with no errors."),(0,r.kt)("p",null,"There are some cases where version updates will cause issue with your Node & Farmer and you may have to wipe & purge your node, typically when errors occur. If you have any issues you can always check our ",(0,r.kt)("a",{parentName:"p",href:"https://forums.subspace.network"},"Forums")," and hop in our ",(0,r.kt)("a",{parentName:"p",href:"https://discord.gg/subspace-network"},"Discord")," Server to ask for help."),(0,r.kt)("h4",{id:"wipe--purge"},"Wipe & Purge"),(0,r.kt)("p",null,"If you were running a node previously, and want to switch to a new snapshot, please perform these steps and then follow the guideline again:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `FARMER_FILE_NAME` with the name of the node file you downloaded from releases\n./FARMER_FILE_NAME wipe PATH_TO_FARM\n# Replace `NODE_FILE_NAME` with the name of the node file you downloaded from releases\n./NODE_FILE_NAME purge-chain --chain gemini-3g\n")),(0,r.kt)("p",null,"Does not matter if the node/farmer executable is the previous one or from the new snapshot, both will work :)\nThe reason we require this is, with every snapshot change, the network might get partitioned, and you may be on a different genesis than the current one.\nIn plain English, these commands are like a ",(0,r.kt)("inlineCode",{parentName:"p"},"reset")," button for snapshot changes."),(0,r.kt)("p",null,"Now follow installation guide."),(0,r.kt)("h4",{id:"docker-wipe--purge"},"Docker Wipe & Purge"),(0,r.kt)("p",null,"In case of Docker setup run ",(0,r.kt)("inlineCode",{parentName:"p"},"docker compose down -v")," (and manually delete custom directories if you have specified them)."),(0,r.kt)("p",null,"Now follow installation guide."),(0,r.kt)("h4",{id:"help"},"Help"),(0,r.kt)("p",null,"There are extra commands and parameters you can use on farmer or node, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," after any other command to display additional options."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Replace `FARMER_FILE_NAME` with the name of the node file you downloaded from releases\n./FARMER_FILE_NAME farm --help\n")),(0,r.kt)("h2",{id:"iv-advanced"},"IV. Advanced"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"node--farmer-commands-guide"},"Node & Farmer Commands Guide"),(0,r.kt)("p",null,"Both the node and the farmer have a variety of flags and parameters. To see a full list, append the ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," flag to either the node or the farmer command."),(0,r.kt)("h3",{id:"common-command-examples"},"Common Command Examples"),(0,r.kt)("p",null,"For both the node and the farmer, here are some frequently used commands:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Display farm information: ",(0,r.kt)("inlineCode",{parentName:"li"},"./FARMER_FILE_NAME info PATH_TO_FARM")),(0,r.kt)("li",{parentName:"ul"},"Scrub the farm for errors: ",(0,r.kt)("inlineCode",{parentName:"li"},"./FARMER_FILE_NAME scrub PATH_TO_FARM")),(0,r.kt)("li",{parentName:"ul"},"Erase all farmer-related data: ",(0,r.kt)("inlineCode",{parentName:"li"},"./FARMER_FILE_NAME wipe PATH_TO_FARM")),(0,r.kt)("li",{parentName:"ul"},"Start the node with a custom data path: ",(0,r.kt)("inlineCode",{parentName:"li"},"./NODE_FILE_NAME --base-path NODE_DATA_PATH --chain gemini-3g")),(0,r.kt)("li",{parentName:"ul"},"Erase all node-related data: ",(0,r.kt)("inlineCode",{parentName:"li"},"./NODE_FILE_NAME purge-chain --base-path NODE_DATA_PATH --chain gemini-3g"))),(0,r.kt)("h3",{id:"utilizing-multiple-disks"},"Utilizing Multiple Disks"),(0,r.kt)("p",null,"To maximize storage capabilities, you can engage multiple disks directly. This is often more efficient than relying on RAID configurations:"),(0,r.kt)("p",null,"Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"./FARMER_FILE_NAME farm --reward-address WALLET_ADDRESS \\\n    path=/media/ssd1,size=100GiB \\\n    path=/media/ssd2,size=10T \\\n    path=/media/ssd3,size=10T\n")),(0,r.kt)("h3",{id:"optimizing-dsn-syncing"},"Optimizing DSN Syncing"),(0,r.kt)("admonition",{title:"Parameters to Use with Caution",type:"warning"},(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre"},"--out-peers\n--in-peers\n--in-peers-light\n--dsn-target-connections\n--dsn-pending-in-connections\n--dsn-in-connections\n"))),(0,r.kt)("h4",{id:"recommended-parameters"},"Recommended Parameters"),(0,r.kt)("p",null,"The default parameters are set with the capabilities of common consumer modem/routers in mind. Adjusting certain parameters could enhance DSN sync performance by increasing parallelism. However, if you decide to increase them significantly, ensure that your modem/router is performant enough to handle the increased traffic."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Node:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"--dsn-out-connections\n--dsn-pending-out-connections\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Farmer:"),"\nIncreasing the values of the farmer parameters could increase the plotting speed."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"--out-connections\n--pending-out-connections\n")),(0,r.kt)("h3",{id:"build-from-source-linux"},"Build from source (Linux)"),(0,r.kt)("p",null,"If you're running unsupported Linux distribution or CPU architecture, you may try to build binaries yourself from source."),(0,r.kt)("p",null,"NOTE: This is primarily targeted at tech-savvy users and not recommended unless you know what you're doing.\nPlease try to find answer to your question online before reaching out to maintainers."),(0,r.kt)("p",null,"You'll have to have ",(0,r.kt)("a",{parentName:"p",href:"https://rustup.rs/"},"Rust toolchain")," installed as well as LLVM, Clang and CMake in addition to usual developer tooling (Ubuntu example):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"sudo apt-get install llvm clang cmake\n")),(0,r.kt)("admonition",{title:"LLVM + Clang 16",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"The build with LLVM + Clang 16 ends with ",(0,r.kt)("inlineCode",{parentName:"p"},"UnknownOpcode(192)")," error due to breaking changes concerning WASM in LLVM 16. You can read more about this issue ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/substrate/issues/13636"},"here"),". At this point, the solution is to use LLVM + Clang 15 and add the ",(0,r.kt)("inlineCode",{parentName:"p"},"-Z build-std")," flag to the ",(0,r.kt)("inlineCode",{parentName:"p"},"cargo build")," command. ")),(0,r.kt)("p",null,"Now clone the source and build snapshot ",(0,r.kt)("inlineCode",{parentName:"p"},"snapshot-2023-aug-18")," (replace occurrences with the snapshot you want to build):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"git clone https://github.com/subspace/subspace.git\ncd subspace\ngit checkout snapshot-2023-aug-18\ncargo build \\\n    --profile production \\\n    --bin subspace-node \\\n    --bin subspace-farmer\n")),(0,r.kt)("p",null,"You'll find two binaries under ",(0,r.kt)("inlineCode",{parentName:"p"},"target/production")," directory once it succeeds, after which refer to instructions above on how to use them."),(0,r.kt)("h2",{id:"v-having-trouble"},"V. Having Trouble?"),(0,r.kt)("p",null,"If you are having some issues with running the node or the farmer for the subspace network, feel free to join our Discord or even better you can take a look at our Forums and review and existing questions or post a new one if needed!"),(0,r.kt)("h3",{id:"----forums"},"-   ",(0,r.kt)("a",{parentName:"h3",href:"https://forum.subspace.network"},"Forums")),(0,r.kt)("h3",{id:"----discord"},"-   ",(0,r.kt)("a",{parentName:"h3",href:"https://discord.gg/subspace-network"},"Discord")),(0,r.kt)("h3",{id:"enable-rust-backtrace"},"Enable Rust Backtrace"),(0,r.kt)("p",null,"When running the Subspace Network Farmer & Node, sometimes you may encounter an error message that includes a line similar to the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Backtrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it.\n")),(0,r.kt)("p",null,"This error message means that Rust (the programming language that Subspace Network Farmer & Node is written in) has encountered a problem and has provided a diagnostic backtrace that can help diagnose the issue. However, by default, the backtrace is not displayed. To see the backtrace, you need to enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE")," environment variable."),(0,r.kt)("p",null,"In this section, we will show you how to enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE")," environment variable on Linux, macOS, and Windows (PowerShell)."),(0,r.kt)(o.Z,{groupId:"OS",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"windows",label:"\ud83d\uddbc\ufe0f Windows",default:!0,mdxType:"TabItem"},(0,r.kt)("h4",{id:"enabling-rust_backtrace-on-windows-powershell"},"Enabling RUST_BACKTRACE on Windows (PowerShell)"),(0,r.kt)("p",null,"To enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE")," environment variable on Windows using PowerShell, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open a PowerShell window.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Type the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-powershell"},"$Env:RUST_BACKTRACE=1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Press Enter.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"After exporting the environment variable, run the Subspace Network Farmer & Node as usual, and any errors encountered will display the backtrace.")))),(0,r.kt)(s.Z,{value:"macos",label:"\ud83c\udf4emacOS",mdxType:"TabItem"},(0,r.kt)("h4",{id:"enabling-rust_backtrace-on-macos"},"Enabling RUST_BACKTRACE on macOS"),(0,r.kt)("p",null,"To enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE")," environment variable on macOS, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open a terminal window.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Type the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"export RUST_BACKTRACE=1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Press Enter.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"After exporting the environment variable, run the Subspace Network Farmer & Node as usual, and any errors encountered will display the backtrace.")))),(0,r.kt)(s.Z,{value:"linux",label:"\ud83d\udc27Ubuntu",mdxType:"TabItem"},(0,r.kt)("h4",{id:"enabling-rust_backtrace-on-linux"},"Enabling RUST_BACKTRACE on Linux"),(0,r.kt)("p",null,"To enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE")," environment variable on Linux, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open a terminal window.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Type the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"export RUST_BACKTRACE=1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Press Enter.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"After exporting the environment variable, run the Subspace Network Farmer & Node as usual, and any errors encountered will display the backtrace.")))),(0,r.kt)(s.Z,{value:"systemd_service",label:"\u2699 Service (Linux)",mdxType:"TabItem"},(0,r.kt)("h4",{id:"enabling-rust_backtrace-on-linux-service"},"Enabling RUST_BACKTRACE on Linux Service"),(0,r.kt)("p",null,"To enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE")," environment variable on Linux Service, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open a terminal window.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"If you want to enable it for the node, then run the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl edit subspace-node\n")),(0,r.kt)("p",{parentName:"li"},"If you want to enable it for the farmer, then run the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl edit subspace-farmer\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Between the warning comments, add two lines to the file:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"[Service]\nEnvironment=RUST_BACKTRACE=1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Reload systemd daemon:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl daemon-reload\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Restart services:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell-session"},"sudo systemctl restart subspace-{node,farmer}\n")))),(0,r.kt)("p",null,"If you want to disable ",(0,r.kt)("inlineCode",{parentName:"p"},"RUST_BACKTRACE"),", just follow the same steps above,\nbut in step 3 instead of adding, remove those 2 lines."))))}N.isMDXComponent=!0},1207:(e,t,a)=>{a.d(t,{Z:()=>n});const n={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN"}}}]);